/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!******************************!*\
  !*** ./src/inject/inject.js ***!
  \******************************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__inject_scss__ = __webpack_require__(/*! ./inject.scss */ 1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__inject_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__inject_scss__);\n\n\nconsole.log(\"content.js loaded\", window == top ? \"@ top\" : \"in frame @\", window.location.href);\nif(window == top) console.log(\"is VF page?\", Boolean(window.document.querySelector('.apexp')));\n\nconst SELECTOR_CSS_PROCESSED = \"css__processed\";\nconst SELECTOR_CSS_DEACTIVATED = \"css__deactivated\";\nconst SELECTOR_CSS_SLDS4VF = \"slds-vf-stylesheet\";\nconst SELECTOR_CSS_LINK = \"html link[rel='stylesheet']\";\nconst SELECTOR_STYLE_TAG = \"style\";\nconst URL_TEMPLATE = \"template/template.html\";\nconst WRAPPER_ID = \"extension-view\";\nconst CATEGORY_CLASSIC = 'salesforce';\nconst CATEGORY_LIGHTNING = 'lex4vf';\nconst CATEGORY_SLDS = 'slds';\n\nlet port;\nlet currentStylesheets = [];\nlet currentStyleTags = [];\n\nconst model = (() => {\n\tconst data = [];\n\tconst getById = id => data.find(link => link.id === id);\n\tconst createElementData = (element, url, filename, category) => ({\n\t\tid: element.id,\n\t\tactivated: !element.classList.contains(SELECTOR_CSS_DEACTIVATED),\n\t\turl,\n\t\tfilename,\n\t\tcategory\n\t});\n\tlet templates;\n\n\treturn {\n\t\tadd: cssLinkData => {\n\t\t\tif(getById(cssLinkData.id)) {\n\t\t\t\tconsole.warn(cssLinkData.id, \"is already processed\", cssLinkData);\n\t\t\t} else {\n\t\t\t\tdata.push(cssLinkData)\n\t\t\t}\n\t\t},\n\t\tcategoryHeaderContent: {\n\t\t\t[CATEGORY_LIGHTNING]: {\n\t\t\t\ttitle: 'Lightning Stylesheets for Visualforce',\n\t\t\t\tdescription: '',\n\t\t\t},\n\t\t\t[CATEGORY_SLDS]: {\n\t\t\t\ttitle: '&lt;apex:slds&gt;',\n\t\t\t\tdescription: 'Lightning Design System styles brought in by usage of &lt;apex:slds&gt;',\n\t\t\t},\n\t\t\t[CATEGORY_CLASSIC]: {\n\t\t\t\ttitle: 'Salesforce styles',\n\t\t\t\tdescription: 'Styles that the platform normally uses in Visualforce pages',\n\t\t\t},\n\t\t\tstyleTag: {\n\t\t\t\ttitle: 'Style tags',\n\t\t\t\tdescription: 'Styles that exist in &lt;style&gt; blocks',\n\t\t\t},\n\t\t\tcustom: {\n\t\t\t\ttitle: 'Custom styles',\n\t\t\t\tdescription: 'Your custom styles or ones that could not be otherwise identified',\t\t\t}\n\t\t},\n\t\tsetActivation: (cssLinkId, value) => {\n\t\t\tconst idx = data.findIndex(element => element.id == cssLinkId);\n\t\t\tdata[idx].activated = value;\n\t\t},\n\t\tgetById: getById,\n\t\tgetCategoryById: id => data.find(element => element.id == id).category,\n\t\tgetCategoryByUrl: url => {\n\t\t\tif(RegExp('lightningstylesheets').test(url)) return CATEGORY_LIGHTNING;\n\t\t  if(RegExp('^\\/apexpages\\/slds\\/|^\\/slds\\/css\\/').test(url)) return CATEGORY_SLDS;\n\t\t  if(RegExp('^\\/sCSS\\/|^\\/faces\\/').test(url)) return CATEGORY_CLASSIC;\n\t\t  return 'custom';\n\t\t},\n\t\tgetCssLinkData: cssLink => {\n\t\t\tconst href = cssLink.getAttribute(\"href\");\n\t\t\treturn createElementData(\n\t\t\t\tcssLink,\n\t\t\t\thref,\n\t\t\t\thref.split(/\\.css|\\.xcss/).shift().split('/').pop(),\n\t\t\t\tmodel.getCategoryByUrl(href)\n\t\t\t)\n\t\t},\n\t\tgetStyleTagData: styleTag => {\n\t\t\treturn createElementData(\n\t\t\t\tstyleTag,\n\t\t\t\tstyleTag.textContent.trim().substring(0, 144),\n\t\t\t\t\"&lt;STYLE tag&gt;\",\n\t\t\t\t\"styleTag\"\n\t\t\t)\n\t\t},\n\t\tisLightningStylesheetsActive: () => Boolean(data.find(link => link.category ===\"lex4vf\" && link.activated === true)),\n\t\tthemePicklistValues: [\n\t\t\t{ category: CATEGORY_LIGHTNING, item_value: \"Lightning Stylesheets\" },\n\t\t\t{ category: CATEGORY_CLASSIC, item_value: \"Classic Stylesheets\" },\n\t\t\t{ category: 'none', item_value: \"No Stylesheets\" }\n\t\t],\n\t\tthemeSelected: CATEGORY_CLASSIC,\n\t\ttoString: () => JSON.stringify(data),\n\t\tget data () { return data },\n\t\tget orgLightningStylesheetsCssPath () { return `/slds/css/${(new Date()).getTime()}/min/lightningstylesheets/one:oneNamespace,force:sldsTokens,force:base,force:oneSalesforceSkin,force:themeTokens,force:formFactorLarge,force:appThemeTokens/slds.css` },\n\t\tget templates () { return templates },\n\t\tset templates(newTemplates) { templates = newTemplates }\n\t}\n})();\n\nconst togglePanel = (force) => document.getElementById(WRAPPER_ID).classList.toggle('is-open', force);\n\nconst getLinks = category => model.data.filter(item => item.category == category);\n\nconst renderTemplate = (snippet, container) => {\n\tconst wrapper = container || document.createElement(\"div\");\n\twrapper.innerHTML = snippet;\n\treturn container ? wrapper : wrapper.firstElementChild;\n}\n\nconst hydrateTemplate = (snippet, data) => {\n\tObject.keys(data).forEach(key => {\n\t\tsnippet = snippet.replace(RegExp(`{{${key}}}`, 'g'), data[key])\n\t})\n\treturn snippet;\n}\n\nconst renderLinkSection = (category) => {\n\tconst { categoryHeaderContent } = model;\n\tconst { description, activated, title } = categoryHeaderContent[category];\n\tconst list = renderTemplate(model.templates.list_body);\n\trenderTemplate(getLinks(category).map(item => hydrateTemplate(model.templates.list_item, Object.assign(item, { is_checked: item.activated ? 'checked' : '' }))).join(''), list);\n\treturn getLinks(category).length ? [\n\t\thydrateTemplate(\n\t\t\tmodel.templates.list_header, {\n\t\t\t\tcategory,\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tis_checked: model.data\n\t\t\t\t\t.filter(item => item.category == category)\n\t\t\t\t\t.every(item => item.activated === false) ? '' : 'checked',\n\t\t\t}\n\t\t),\n\t\tlist.outerHTML\n\t].join(''):\n\t\t'';\n}\n\nconst render = () => {\n\tconst { categoryHeaderContent, templates, themePicklistValues, themeSelected } = model;\n\tif(!document.getElementById(WRAPPER_ID)) document.body.insertAdjacentHTML('beforeend', `<div id=\"${WRAPPER_ID}\"></div>`);\n\trenderTemplate(templates.container, document.getElementById(WRAPPER_ID));\n\tconst container = renderTemplate([\n\t\ttemplates.content\n\t].join(''), document.querySelector(\".extension-view-container\"));\n\tconst content = renderTemplate([\n\t\ttemplates.header,\n\t\ttemplates.body,\n\t].join(''), document.querySelector(\".extension-view-content\"));\n  const sldsLinks = renderLinkSection(CATEGORY_SLDS);\n  const customLinks = renderLinkSection('custom');\n\tconst styleTags = renderLinkSection('styleTag');\n\n\tconst themePicklist = hydrateTemplate(\n\t\ttemplates.theme_picklist,\n\t\t{\n\t\t\tselected_value: themePicklistValues.find(option => option.category == themeSelected).item_value\n\t\t}\n\t);\n\n\tconst picklistOptions = themePicklistValues.map(option =>\n\t\thydrateTemplate(\n\t\t\ttemplates.theme_picklist_option,\n\t\t\tObject.assign({}, option, {\n\t\t\t\tis_selected: themeSelected == option.category ? 'slds-is-selected' : '',\n\t\t\t\tpartial_icon_check: templates.icon_check,\n\t\t\t\tpartial_selected_a11y_label: templates.list_item_partial_selected_a11y_label\n\t\t})\n\t));\n\n\t// const items = model.data.map(item => hydrateTemplate(templates.list_item, Object.assign(item, { is_checked: item.activated ? 'checked' : '' })));\n\trenderTemplate([themePicklist, sldsLinks, customLinks, styleTags].join(''), content.querySelector(\".extension-view-body\"));\n\trenderTemplate(picklistOptions.join(''), content.querySelector(\"#listbox-themes ul\"));\n}\n\nconst applyLightningStylesheetsCss = (contentWindow) => {\n  const contentDoc = contentWindow.document;\n  if(!contentDoc.querySelector(`.${SELECTOR_CSS_SLDS4VF}`)) {\n\t\tmodel.themeSelected = CATEGORY_LIGHTNING;\n    // Array.from(contentDoc.querySelectorAll(`${SELECTOR_CSS_LINK}, ${SELECTOR_STYLE_TAG}`))\n    //   .map(cssElement => {\n    //     deactivateCSSElement(cssElement);\n\t\t// \t});\n\n    const css = contentDoc.createElement(\"link\");\n    css.rel = \"stylesheet\";\n    // When testing local SLDS4VF\n\t\t// css.href = \"https://localhost:4443/styles/extension.css\";\n    // css.href=\"https://drive.google.com/a/salesforce.com/uc?authuser=0&id=0B2Qc3WrvwamZY3lvRmNJMWZaeUk&export=download\";\n    // css.href=\"https://design-system-visualforce.herokuapp.com/styles/extension.css?token=51828b28843be76b5715105e5a715003\";\n\t\t// css.href = \"http://lex4vf-dev.surge.sh/styles/production.css\";\n    css.href = model.orgLightningStylesheetsCssPath;\n\t\tcss.type = \"text/css\";\n    css.id = SELECTOR_CSS_SLDS4VF;\n    css.classList.add(SELECTOR_CSS_SLDS4VF);\n    contentDoc.head.appendChild(css);\n\t\tchrome.runtime.sendMessage({ msg: \"lightningStylesheetsActivated\", value: true });\n\t\thandleCategorySelection(CATEGORY_LIGHTNING);\n  }\n}\n\nconst handleCategoryStateFromChildClick = category => {\n\tconst categoryElements = model.data.filter(item => item.category == category);\n\tconst categoryCheckbox = document.getElementById(`checkbox_${category}`);\n\tif(categoryElements.every(item => item.activated === true)) {\n\t\t//turn on category check\n\t\tcategoryCheckbox.checked = true;\n\t\tcategoryCheckbox.indeterminate = false;\n\t} else if(categoryElements.every(item => item.activated === false)) {\n\t\t//turn off category check\n\t\tcategoryCheckbox.checked = false;\n\t\tcategoryCheckbox.indeterminate = false;\n\t} else {\n\t\t//turn on mixed\n\t\tcategoryCheckbox.indeterminate = true;\n\t}\n};\n\nconst deactivateCSSElement = element => {\n\telement.setAttribute(\"media\", \"max-width: 1px\");\n  element.classList.add(SELECTOR_CSS_DEACTIVATED);\n\tmodel.setActivation(element.id, false);\n  console.log(\"Deactivating:\", element.dataset.initCssUrl);\n  return element;\n}\n\nconst activateCSSElement = element => {\n\telement.removeAttribute('media');\n  element.classList.remove(SELECTOR_CSS_DEACTIVATED);\n\tmodel.setActivation(element.id, true);\n\tconsole.log(\"Activating:\", element.dataset.initCssUrl);\n  return element;\n}\n\nconst createRandomId = () => `${(new Date()).getTime()}-${Math.random()*10**17}`;\n\nconst getPageStyleSheets = () => {\n\tconst stylesheetsQuery = document.querySelectorAll(SELECTOR_CSS_LINK);\n\tif(stylesheetsQuery.length) {\n\t\tconst prevStylesheets = currentStylesheets.concat([]);\n\t\tcurrentStylesheets = Array.from(stylesheetsQuery);\n\t\tcurrentStylesheets\n\t\t\t.filter(cssLink => !cssLink.classList.contains(SELECTOR_CSS_PROCESSED))\n\t\t\t.map(cssLink => processCssLinks(cssLink));\n\t\tif(currentStylesheets.length != prevStylesheets.length) {\n\t\t\tconsole.log(\"CSS Found:\", document.querySelectorAll(SELECTOR_CSS_LINK));\n\t\t\trender();\n\t\t};\n\t}\n}\n\nconst getPageStyleTags = () => {\n\tconst styleTagsQuery = document.querySelectorAll(SELECTOR_STYLE_TAG);\n\tif(styleTagsQuery.length) {\n\t\tconst prevStyleTags = currentStyleTags.concat([]);\n\t\tcurrentStyleTags = Array.from(styleTagsQuery);\n\t\tcurrentStyleTags\n\t\t\t.filter(styleTag => !styleTag.classList.contains(SELECTOR_CSS_PROCESSED))\n\t\t\t.map(styleTag => processStyleTags(styleTag));\n\t\tif(currentStyleTags.length != prevStyleTags.length) {\n\t\t\tconsole.log(\"Style Tag Found:\", document.querySelectorAll(SELECTOR_STYLE_TAG));\n\t\t\trender();\n\t\t};\n\t}\n}\n\nconst handleCategorySelection = category => {\n\tconst elementDataSet = model.data.filter(elementData => [CATEGORY_CLASSIC,CATEGORY_LIGHTNING].includes(elementData.category) );\n\tif(category == CATEGORY_LIGHTNING\n\t\t&& !elementDataSet.find(elementData => elementData.category == CATEGORY_LIGHTNING))\n\t\tapplyLightningStylesheetsCss(window);\n\n\telementDataSet.map(elementData => (\n\t\ttoggleCSSElement(\n\t\t\tdocument.getElementById(elementData.id),\n\t\t\telementData.category == category\n\t\t)\n\t));\n\trender();\n}\n\nconst handlePickListSelect = (listItem) => {\n\tconst category = listItem.dataset.category;\n\tmodel.themeSelected = category;\n\thandleCategorySelection(category);\n}\n\nconst processCssLinks = cssLink => {\n  console.log(\"Processing:\", cssLink.getAttribute('href')); //cssLink\n\tconst href = cssLink.getAttribute('href');\n\tcssLink.id = createRandomId();\n\tcssLink.dataset.initCssUrl = cssLink.getAttribute('href');\n\tcssLink.classList.add(SELECTOR_CSS_PROCESSED);\n\tmodel.add(model.getCssLinkData(cssLink));\n  return cssLink;\n}\n\nconst processStyleTags = styleTag => {\n\tconsole.log(\"Processing:\", styleTag.innerHTML.trim().substring(0, 24) + \"…\"); //styleTag\n\tstyleTag.id = createRandomId();\n\tstyleTag.classList.add(SELECTOR_CSS_PROCESSED);\n\tmodel.add(model.getStyleTagData(styleTag));\n\treturn styleTag;\n}\n\nconst fetchTemplates = () => {\n\treturn fetch(chrome.runtime.getURL(URL_TEMPLATE))\n\t\t.then(response => response.text())\n\t\t.then(response => {\n\t\t\tconst wrapper = document.createElement('div');\n\t\t\twrapper.innerHTML = response;\n\t\t\tlet\n\t\t\t\t$templates = wrapper.querySelectorAll(\"template\"),\n\t\t\t\ttemplates = {};\n\t\t\tArray.from($templates).forEach(function(template){\n\t\t\t\ttemplates[template.id] = template.innerHTML.trim();\n\t\t\t});\n\t\t\tmodel.templates = templates;\n\t\t})\n}\n\nconst toggleCSSElement = (element, isChecked) => (\n\telement ?\n\t\tisChecked ?\n\t\t\tactivateCSSElement(element) :\n\t\t\tdeactivateCSSElement(element) :\n\t\tconsole.warn(\"Unable to find the CSS link element to de/activate\")\n)\n\nchrome.extension.sendMessage({}, function(response) {\n\tvar readyStateCheckInterval = setInterval(function() {\n\t\tif (document.readyState === \"complete\") {\n\t\t\tclearInterval(readyStateCheckInterval);\n\n\t\t\t// ----------------------------------------------------------\n\t\t\t// This part of the script triggers when page is done loading\n\t\t\tconsole.log(\"readyState\", window.location.href);\n\t\t\t// ----------------------------------------------------------\n\n\t\t\tlet confirmLoadCSS = null;\n\t\t  const hasVisualforceClasses = Boolean(window.document.querySelector('.apexp, .bPageBlock, .ext-chrome, .sfdcBody'));\n\t\t  const hasPageContent = Boolean(window.document.body.innerHTML.trim().length); // test for empty page\n\t\t\tconst isVisualforceFrame =\n\t\t\t\tRegExp(/vfFrameId_\\d+/).test(window.name); // ||\n\t\t\t\t// RegExp(/^\\/apex\\/|\\.apexp/).test(window.location.pathname); // test for frame with Visualforce page\n\t\t\tconst isValidVisualforcePage =\n\t\t\t\thasPageContent &&\n\t\t\t\t((window != top && isVisualforceFrame) ||\n\t\t\t\t(window == top && hasVisualforceClasses ));\n\n\t\t\tdocument.body.addEventListener(\"change\", e => {\n\t\t\t\tconst clickedElement = event.target;\n\t\t\t\tconst toggle = (checkbox, value) => {\n\t\t\t\t\tif(value) {\n\t\t\t\t\t\tif(checkbox.checked !== value) checkbox.click();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcheckbox.click();\n\t\t\t\t\t}\n\t\t\t\t\treturn checkbox;\n\t\t\t\t}\n\n\t\t\t\tif(clickedElement.classList.contains(\"category-check\")) {\n\t\t\t\t\tmodel.data\n\t\t\t\t\t\t.filter(elementData => elementData.category == clickedElement.dataset.cssCategory)\n\t\t\t\t\t\t.map(elementData => (\n\t\t\t\t\t\t\ttoggleCSSElement(\n\t\t\t\t\t\t\t\tdocument.getElementById(elementData.id),\n\t\t\t\t\t\t\t\tclickedElement.checked\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t));\n\t\t\t\t\trender();\n\t\t\t\t}\n\n\t\t    if(clickedElement.classList.contains(\"list-item-check\")) {\n\t\t\t\t\ttoggleCSSElement(\n\t\t\t\t\t\tdocument.getElementById(clickedElement.dataset.cssNodeId),\n\t\t\t\t\t\tclickedElement.checked\n\t\t\t\t\t)\n\t\t\t\t\thandleCategoryStateFromChildClick(clickedElement.dataset.cssCategory);\n\t\t    }\n\t\t\t})\n\n\t\t\tdocument.body.addEventListener(\"click\", e => {\n\t\t\t\tif(e.target.classList.contains(\"button-panel-close\")) togglePanel();\n\t\t\t\tif(e.target.classList.contains(\"button-apply-lss\")) applyLightningStylesheetsCss(window);\n\t\t\t})\n\n\t\t\tdocument.body.addEventListener(\"mousedown\", e => {\n\t\t\t\tconst target = e.target.classList.contains(\"slds-listbox__option\") ? e.target : e.target.closest(\".slds-listbox__option\");\n\t\t\t\tif(target) {\n\t\t\t\t\thandlePickListSelect(target);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\twindow.addEventListener(\"focusin\", e => {\n\t\t    if(e.target.id == \"combobox-theme-select\") {\n\t\t\t\t\tdocument.querySelector(\".slds-combobox\").classList.add(\"slds-is-open\");\n\t\t\t\t}\n\t\t\t})\n\n\t\t\twindow.addEventListener(\"focusout\", e => {\n\t\t    if(e.target.id == \"combobox-theme-select\") {\n\t\t\t\t\tdocument.querySelector(\".slds-combobox\").classList.remove(\"slds-is-open\");\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tchrome.runtime.sendMessage({ msg: \"pageActionState\", value: isValidVisualforcePage });\n\n\t\t  if(isValidVisualforcePage) {\n\t\t\t\tfetchTemplates().then(() => {\n\t\t\t\t\tconsole.log(\"Initializing on:\", window.location.pathname);\n\t\t\t\t\tconst pollCSSLoaded = setInterval(getPageStyleSheets, 3000);\n\t\t\t\t\tgetPageStyleTags();\n\t\t\t    getPageStyleSheets();\n\n\t\t\t\t\tchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n\t\t\t\t\t\tconsole.log(sender.tab ?\n\t\t\t\t\t\t\t\"from a content script:\" + sender.tab.url :\n\t\t\t\t\t\t\t\"from the extension\");\n\t\t\t\t\t\tswitch(request.msg) {\n\t\t\t\t\t\t\tcase \"activateSlds4Vf\":\n\t\t\t\t\t      applyLightningStylesheetsCss(window);\n\t\t\t\t\t\t\t\treturn sendResponse({ msg: request.msg, complete: true });\n\t\t\t\t\t\t\tcase \"openPanel\":\n\t\t\t\t\t\t\t\treturn togglePanel(true);\n\t\t\t\t\t\t\tcase \"isLightningStylesheetsActive\":\n\t\t\t\t\t\t\t\treturn sendResponse({ msg: request.msg, value: model.isLightningStylesheetsActive() });\n\t\t\t\t\t\t\tcase \"isPanelOpen\":\n\t\t\t\t\t\t\t\treturn sendResponse({ msg: request.msg, value: document.getElementById(WRAPPER_ID).classList.contains(\"is-open\") });\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\treturn { msg: `No Extension Message Handler for ${request}`}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t  }\n\t\t}\n\t}, 10);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmplY3QvaW5qZWN0LmpzPzJlZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi9pbmplY3Quc2Nzc1wiO1xuXG5jb25zb2xlLmxvZyhcImNvbnRlbnQuanMgbG9hZGVkXCIsIHdpbmRvdyA9PSB0b3AgPyBcIkAgdG9wXCIgOiBcImluIGZyYW1lIEBcIiwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuaWYod2luZG93ID09IHRvcCkgY29uc29sZS5sb2coXCJpcyBWRiBwYWdlP1wiLCBCb29sZWFuKHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXBleHAnKSkpO1xuXG5jb25zdCBTRUxFQ1RPUl9DU1NfUFJPQ0VTU0VEID0gXCJjc3NfX3Byb2Nlc3NlZFwiO1xuY29uc3QgU0VMRUNUT1JfQ1NTX0RFQUNUSVZBVEVEID0gXCJjc3NfX2RlYWN0aXZhdGVkXCI7XG5jb25zdCBTRUxFQ1RPUl9DU1NfU0xEUzRWRiA9IFwic2xkcy12Zi1zdHlsZXNoZWV0XCI7XG5jb25zdCBTRUxFQ1RPUl9DU1NfTElOSyA9IFwiaHRtbCBsaW5rW3JlbD0nc3R5bGVzaGVldCddXCI7XG5jb25zdCBTRUxFQ1RPUl9TVFlMRV9UQUcgPSBcInN0eWxlXCI7XG5jb25zdCBVUkxfVEVNUExBVEUgPSBcInRlbXBsYXRlL3RlbXBsYXRlLmh0bWxcIjtcbmNvbnN0IFdSQVBQRVJfSUQgPSBcImV4dGVuc2lvbi12aWV3XCI7XG5jb25zdCBDQVRFR09SWV9DTEFTU0lDID0gJ3NhbGVzZm9yY2UnO1xuY29uc3QgQ0FURUdPUllfTElHSFROSU5HID0gJ2xleDR2Zic7XG5jb25zdCBDQVRFR09SWV9TTERTID0gJ3NsZHMnO1xuXG5sZXQgcG9ydDtcbmxldCBjdXJyZW50U3R5bGVzaGVldHMgPSBbXTtcbmxldCBjdXJyZW50U3R5bGVUYWdzID0gW107XG5cbmNvbnN0IG1vZGVsID0gKCgpID0+IHtcblx0Y29uc3QgZGF0YSA9IFtdO1xuXHRjb25zdCBnZXRCeUlkID0gaWQgPT4gZGF0YS5maW5kKGxpbmsgPT4gbGluay5pZCA9PT0gaWQpO1xuXHRjb25zdCBjcmVhdGVFbGVtZW50RGF0YSA9IChlbGVtZW50LCB1cmwsIGZpbGVuYW1lLCBjYXRlZ29yeSkgPT4gKHtcblx0XHRpZDogZWxlbWVudC5pZCxcblx0XHRhY3RpdmF0ZWQ6ICFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhTRUxFQ1RPUl9DU1NfREVBQ1RJVkFURUQpLFxuXHRcdHVybCxcblx0XHRmaWxlbmFtZSxcblx0XHRjYXRlZ29yeVxuXHR9KTtcblx0bGV0IHRlbXBsYXRlcztcblxuXHRyZXR1cm4ge1xuXHRcdGFkZDogY3NzTGlua0RhdGEgPT4ge1xuXHRcdFx0aWYoZ2V0QnlJZChjc3NMaW5rRGF0YS5pZCkpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGNzc0xpbmtEYXRhLmlkLCBcImlzIGFscmVhZHkgcHJvY2Vzc2VkXCIsIGNzc0xpbmtEYXRhKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRhdGEucHVzaChjc3NMaW5rRGF0YSlcblx0XHRcdH1cblx0XHR9LFxuXHRcdGNhdGVnb3J5SGVhZGVyQ29udGVudDoge1xuXHRcdFx0W0NBVEVHT1JZX0xJR0hUTklOR106IHtcblx0XHRcdFx0dGl0bGU6ICdMaWdodG5pbmcgU3R5bGVzaGVldHMgZm9yIFZpc3VhbGZvcmNlJyxcblx0XHRcdFx0ZGVzY3JpcHRpb246ICcnLFxuXHRcdFx0fSxcblx0XHRcdFtDQVRFR09SWV9TTERTXToge1xuXHRcdFx0XHR0aXRsZTogJyZsdDthcGV4OnNsZHMmZ3Q7Jyxcblx0XHRcdFx0ZGVzY3JpcHRpb246ICdMaWdodG5pbmcgRGVzaWduIFN5c3RlbSBzdHlsZXMgYnJvdWdodCBpbiBieSB1c2FnZSBvZiAmbHQ7YXBleDpzbGRzJmd0OycsXG5cdFx0XHR9LFxuXHRcdFx0W0NBVEVHT1JZX0NMQVNTSUNdOiB7XG5cdFx0XHRcdHRpdGxlOiAnU2FsZXNmb3JjZSBzdHlsZXMnLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogJ1N0eWxlcyB0aGF0IHRoZSBwbGF0Zm9ybSBub3JtYWxseSB1c2VzIGluIFZpc3VhbGZvcmNlIHBhZ2VzJyxcblx0XHRcdH0sXG5cdFx0XHRzdHlsZVRhZzoge1xuXHRcdFx0XHR0aXRsZTogJ1N0eWxlIHRhZ3MnLFxuXHRcdFx0XHRkZXNjcmlwdGlvbjogJ1N0eWxlcyB0aGF0IGV4aXN0IGluICZsdDtzdHlsZSZndDsgYmxvY2tzJyxcblx0XHRcdH0sXG5cdFx0XHRjdXN0b206IHtcblx0XHRcdFx0dGl0bGU6ICdDdXN0b20gc3R5bGVzJyxcblx0XHRcdFx0ZGVzY3JpcHRpb246ICdZb3VyIGN1c3RvbSBzdHlsZXMgb3Igb25lcyB0aGF0IGNvdWxkIG5vdCBiZSBvdGhlcndpc2UgaWRlbnRpZmllZCcsXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2V0QWN0aXZhdGlvbjogKGNzc0xpbmtJZCwgdmFsdWUpID0+IHtcblx0XHRcdGNvbnN0IGlkeCA9IGRhdGEuZmluZEluZGV4KGVsZW1lbnQgPT4gZWxlbWVudC5pZCA9PSBjc3NMaW5rSWQpO1xuXHRcdFx0ZGF0YVtpZHhdLmFjdGl2YXRlZCA9IHZhbHVlO1xuXHRcdH0sXG5cdFx0Z2V0QnlJZDogZ2V0QnlJZCxcblx0XHRnZXRDYXRlZ29yeUJ5SWQ6IGlkID0+IGRhdGEuZmluZChlbGVtZW50ID0+IGVsZW1lbnQuaWQgPT0gaWQpLmNhdGVnb3J5LFxuXHRcdGdldENhdGVnb3J5QnlVcmw6IHVybCA9PiB7XG5cdFx0XHRpZihSZWdFeHAoJ2xpZ2h0bmluZ3N0eWxlc2hlZXRzJykudGVzdCh1cmwpKSByZXR1cm4gQ0FURUdPUllfTElHSFROSU5HO1xuXHRcdCAgaWYoUmVnRXhwKCdeXFwvYXBleHBhZ2VzXFwvc2xkc1xcL3xeXFwvc2xkc1xcL2Nzc1xcLycpLnRlc3QodXJsKSkgcmV0dXJuIENBVEVHT1JZX1NMRFM7XG5cdFx0ICBpZihSZWdFeHAoJ15cXC9zQ1NTXFwvfF5cXC9mYWNlc1xcLycpLnRlc3QodXJsKSkgcmV0dXJuIENBVEVHT1JZX0NMQVNTSUM7XG5cdFx0ICByZXR1cm4gJ2N1c3RvbSc7XG5cdFx0fSxcblx0XHRnZXRDc3NMaW5rRGF0YTogY3NzTGluayA9PiB7XG5cdFx0XHRjb25zdCBocmVmID0gY3NzTGluay5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuXHRcdFx0cmV0dXJuIGNyZWF0ZUVsZW1lbnREYXRhKFxuXHRcdFx0XHRjc3NMaW5rLFxuXHRcdFx0XHRocmVmLFxuXHRcdFx0XHRocmVmLnNwbGl0KC9cXC5jc3N8XFwueGNzcy8pLnNoaWZ0KCkuc3BsaXQoJy8nKS5wb3AoKSxcblx0XHRcdFx0bW9kZWwuZ2V0Q2F0ZWdvcnlCeVVybChocmVmKVxuXHRcdFx0KVxuXHRcdH0sXG5cdFx0Z2V0U3R5bGVUYWdEYXRhOiBzdHlsZVRhZyA9PiB7XG5cdFx0XHRyZXR1cm4gY3JlYXRlRWxlbWVudERhdGEoXG5cdFx0XHRcdHN0eWxlVGFnLFxuXHRcdFx0XHRzdHlsZVRhZy50ZXh0Q29udGVudC50cmltKCkuc3Vic3RyaW5nKDAsIDE0NCksXG5cdFx0XHRcdFwiJmx0O1NUWUxFIHRhZyZndDtcIixcblx0XHRcdFx0XCJzdHlsZVRhZ1wiXG5cdFx0XHQpXG5cdFx0fSxcblx0XHRpc0xpZ2h0bmluZ1N0eWxlc2hlZXRzQWN0aXZlOiAoKSA9PiBCb29sZWFuKGRhdGEuZmluZChsaW5rID0+IGxpbmsuY2F0ZWdvcnkgPT09XCJsZXg0dmZcIiAmJiBsaW5rLmFjdGl2YXRlZCA9PT0gdHJ1ZSkpLFxuXHRcdHRoZW1lUGlja2xpc3RWYWx1ZXM6IFtcblx0XHRcdHsgY2F0ZWdvcnk6IENBVEVHT1JZX0xJR0hUTklORywgaXRlbV92YWx1ZTogXCJMaWdodG5pbmcgU3R5bGVzaGVldHNcIiB9LFxuXHRcdFx0eyBjYXRlZ29yeTogQ0FURUdPUllfQ0xBU1NJQywgaXRlbV92YWx1ZTogXCJDbGFzc2ljIFN0eWxlc2hlZXRzXCIgfSxcblx0XHRcdHsgY2F0ZWdvcnk6ICdub25lJywgaXRlbV92YWx1ZTogXCJObyBTdHlsZXNoZWV0c1wiIH1cblx0XHRdLFxuXHRcdHRoZW1lU2VsZWN0ZWQ6IENBVEVHT1JZX0NMQVNTSUMsXG5cdFx0dG9TdHJpbmc6ICgpID0+IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuXHRcdGdldCBkYXRhICgpIHsgcmV0dXJuIGRhdGEgfSxcblx0XHRnZXQgb3JnTGlnaHRuaW5nU3R5bGVzaGVldHNDc3NQYXRoICgpIHsgcmV0dXJuIGAvc2xkcy9jc3MvJHsobmV3IERhdGUoKSkuZ2V0VGltZSgpfS9taW4vbGlnaHRuaW5nc3R5bGVzaGVldHMvb25lOm9uZU5hbWVzcGFjZSxmb3JjZTpzbGRzVG9rZW5zLGZvcmNlOmJhc2UsZm9yY2U6b25lU2FsZXNmb3JjZVNraW4sZm9yY2U6dGhlbWVUb2tlbnMsZm9yY2U6Zm9ybUZhY3RvckxhcmdlLGZvcmNlOmFwcFRoZW1lVG9rZW5zL3NsZHMuY3NzYCB9LFxuXHRcdGdldCB0ZW1wbGF0ZXMgKCkgeyByZXR1cm4gdGVtcGxhdGVzIH0sXG5cdFx0c2V0IHRlbXBsYXRlcyhuZXdUZW1wbGF0ZXMpIHsgdGVtcGxhdGVzID0gbmV3VGVtcGxhdGVzIH1cblx0fVxufSkoKTtcblxuY29uc3QgdG9nZ2xlUGFuZWwgPSAoZm9yY2UpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFdSQVBQRVJfSUQpLmNsYXNzTGlzdC50b2dnbGUoJ2lzLW9wZW4nLCBmb3JjZSk7XG5cbmNvbnN0IGdldExpbmtzID0gY2F0ZWdvcnkgPT4gbW9kZWwuZGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLmNhdGVnb3J5ID09IGNhdGVnb3J5KTtcblxuY29uc3QgcmVuZGVyVGVtcGxhdGUgPSAoc25pcHBldCwgY29udGFpbmVyKSA9PiB7XG5cdGNvbnN0IHdyYXBwZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0d3JhcHBlci5pbm5lckhUTUwgPSBzbmlwcGV0O1xuXHRyZXR1cm4gY29udGFpbmVyID8gd3JhcHBlciA6IHdyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG59XG5cbmNvbnN0IGh5ZHJhdGVUZW1wbGF0ZSA9IChzbmlwcGV0LCBkYXRhKSA9PiB7XG5cdE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goa2V5ID0+IHtcblx0XHRzbmlwcGV0ID0gc25pcHBldC5yZXBsYWNlKFJlZ0V4cChge3ske2tleX19fWAsICdnJyksIGRhdGFba2V5XSlcblx0fSlcblx0cmV0dXJuIHNuaXBwZXQ7XG59XG5cbmNvbnN0IHJlbmRlckxpbmtTZWN0aW9uID0gKGNhdGVnb3J5KSA9PiB7XG5cdGNvbnN0IHsgY2F0ZWdvcnlIZWFkZXJDb250ZW50IH0gPSBtb2RlbDtcblx0Y29uc3QgeyBkZXNjcmlwdGlvbiwgYWN0aXZhdGVkLCB0aXRsZSB9ID0gY2F0ZWdvcnlIZWFkZXJDb250ZW50W2NhdGVnb3J5XTtcblx0Y29uc3QgbGlzdCA9IHJlbmRlclRlbXBsYXRlKG1vZGVsLnRlbXBsYXRlcy5saXN0X2JvZHkpO1xuXHRyZW5kZXJUZW1wbGF0ZShnZXRMaW5rcyhjYXRlZ29yeSkubWFwKGl0ZW0gPT4gaHlkcmF0ZVRlbXBsYXRlKG1vZGVsLnRlbXBsYXRlcy5saXN0X2l0ZW0sIE9iamVjdC5hc3NpZ24oaXRlbSwgeyBpc19jaGVja2VkOiBpdGVtLmFjdGl2YXRlZCA/ICdjaGVja2VkJyA6ICcnIH0pKSkuam9pbignJyksIGxpc3QpO1xuXHRyZXR1cm4gZ2V0TGlua3MoY2F0ZWdvcnkpLmxlbmd0aCA/IFtcblx0XHRoeWRyYXRlVGVtcGxhdGUoXG5cdFx0XHRtb2RlbC50ZW1wbGF0ZXMubGlzdF9oZWFkZXIsIHtcblx0XHRcdFx0Y2F0ZWdvcnksXG5cdFx0XHRcdHRpdGxlLFxuXHRcdFx0XHRkZXNjcmlwdGlvbixcblx0XHRcdFx0aXNfY2hlY2tlZDogbW9kZWwuZGF0YVxuXHRcdFx0XHRcdC5maWx0ZXIoaXRlbSA9PiBpdGVtLmNhdGVnb3J5ID09IGNhdGVnb3J5KVxuXHRcdFx0XHRcdC5ldmVyeShpdGVtID0+IGl0ZW0uYWN0aXZhdGVkID09PSBmYWxzZSkgPyAnJyA6ICdjaGVja2VkJyxcblx0XHRcdH1cblx0XHQpLFxuXHRcdGxpc3Qub3V0ZXJIVE1MXG5cdF0uam9pbignJyk6XG5cdFx0Jyc7XG59XG5cbmNvbnN0IHJlbmRlciA9ICgpID0+IHtcblx0Y29uc3QgeyBjYXRlZ29yeUhlYWRlckNvbnRlbnQsIHRlbXBsYXRlcywgdGhlbWVQaWNrbGlzdFZhbHVlcywgdGhlbWVTZWxlY3RlZCB9ID0gbW9kZWw7XG5cdGlmKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChXUkFQUEVSX0lEKSkgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8ZGl2IGlkPVwiJHtXUkFQUEVSX0lEfVwiPjwvZGl2PmApO1xuXHRyZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZXMuY29udGFpbmVyLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChXUkFQUEVSX0lEKSk7XG5cdGNvbnN0IGNvbnRhaW5lciA9IHJlbmRlclRlbXBsYXRlKFtcblx0XHR0ZW1wbGF0ZXMuY29udGVudFxuXHRdLmpvaW4oJycpLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmV4dGVuc2lvbi12aWV3LWNvbnRhaW5lclwiKSk7XG5cdGNvbnN0IGNvbnRlbnQgPSByZW5kZXJUZW1wbGF0ZShbXG5cdFx0dGVtcGxhdGVzLmhlYWRlcixcblx0XHR0ZW1wbGF0ZXMuYm9keSxcblx0XS5qb2luKCcnKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5leHRlbnNpb24tdmlldy1jb250ZW50XCIpKTtcbiAgY29uc3Qgc2xkc0xpbmtzID0gcmVuZGVyTGlua1NlY3Rpb24oQ0FURUdPUllfU0xEUyk7XG4gIGNvbnN0IGN1c3RvbUxpbmtzID0gcmVuZGVyTGlua1NlY3Rpb24oJ2N1c3RvbScpO1xuXHRjb25zdCBzdHlsZVRhZ3MgPSByZW5kZXJMaW5rU2VjdGlvbignc3R5bGVUYWcnKTtcblxuXHRjb25zdCB0aGVtZVBpY2tsaXN0ID0gaHlkcmF0ZVRlbXBsYXRlKFxuXHRcdHRlbXBsYXRlcy50aGVtZV9waWNrbGlzdCxcblx0XHR7XG5cdFx0XHRzZWxlY3RlZF92YWx1ZTogdGhlbWVQaWNrbGlzdFZhbHVlcy5maW5kKG9wdGlvbiA9PiBvcHRpb24uY2F0ZWdvcnkgPT0gdGhlbWVTZWxlY3RlZCkuaXRlbV92YWx1ZVxuXHRcdH1cblx0KTtcblxuXHRjb25zdCBwaWNrbGlzdE9wdGlvbnMgPSB0aGVtZVBpY2tsaXN0VmFsdWVzLm1hcChvcHRpb24gPT5cblx0XHRoeWRyYXRlVGVtcGxhdGUoXG5cdFx0XHR0ZW1wbGF0ZXMudGhlbWVfcGlja2xpc3Rfb3B0aW9uLFxuXHRcdFx0T2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uLCB7XG5cdFx0XHRcdGlzX3NlbGVjdGVkOiB0aGVtZVNlbGVjdGVkID09IG9wdGlvbi5jYXRlZ29yeSA/ICdzbGRzLWlzLXNlbGVjdGVkJyA6ICcnLFxuXHRcdFx0XHRwYXJ0aWFsX2ljb25fY2hlY2s6IHRlbXBsYXRlcy5pY29uX2NoZWNrLFxuXHRcdFx0XHRwYXJ0aWFsX3NlbGVjdGVkX2ExMXlfbGFiZWw6IHRlbXBsYXRlcy5saXN0X2l0ZW1fcGFydGlhbF9zZWxlY3RlZF9hMTF5X2xhYmVsXG5cdFx0fSlcblx0KSk7XG5cblx0Ly8gY29uc3QgaXRlbXMgPSBtb2RlbC5kYXRhLm1hcChpdGVtID0+IGh5ZHJhdGVUZW1wbGF0ZSh0ZW1wbGF0ZXMubGlzdF9pdGVtLCBPYmplY3QuYXNzaWduKGl0ZW0sIHsgaXNfY2hlY2tlZDogaXRlbS5hY3RpdmF0ZWQgPyAnY2hlY2tlZCcgOiAnJyB9KSkpO1xuXHRyZW5kZXJUZW1wbGF0ZShbdGhlbWVQaWNrbGlzdCwgc2xkc0xpbmtzLCBjdXN0b21MaW5rcywgc3R5bGVUYWdzXS5qb2luKCcnKSwgY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmV4dGVuc2lvbi12aWV3LWJvZHlcIikpO1xuXHRyZW5kZXJUZW1wbGF0ZShwaWNrbGlzdE9wdGlvbnMuam9pbignJyksIGNvbnRlbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0Ym94LXRoZW1lcyB1bFwiKSk7XG59XG5cbmNvbnN0IGFwcGx5TGlnaHRuaW5nU3R5bGVzaGVldHNDc3MgPSAoY29udGVudFdpbmRvdykgPT4ge1xuICBjb25zdCBjb250ZW50RG9jID0gY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWYoIWNvbnRlbnREb2MucXVlcnlTZWxlY3RvcihgLiR7U0VMRUNUT1JfQ1NTX1NMRFM0VkZ9YCkpIHtcblx0XHRtb2RlbC50aGVtZVNlbGVjdGVkID0gQ0FURUdPUllfTElHSFROSU5HO1xuICAgIC8vIEFycmF5LmZyb20oY29udGVudERvYy5xdWVyeVNlbGVjdG9yQWxsKGAke1NFTEVDVE9SX0NTU19MSU5LfSwgJHtTRUxFQ1RPUl9TVFlMRV9UQUd9YCkpXG4gICAgLy8gICAubWFwKGNzc0VsZW1lbnQgPT4ge1xuICAgIC8vICAgICBkZWFjdGl2YXRlQ1NTRWxlbWVudChjc3NFbGVtZW50KTtcblx0XHQvLyBcdH0pO1xuXG4gICAgY29uc3QgY3NzID0gY29udGVudERvYy5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICBjc3MucmVsID0gXCJzdHlsZXNoZWV0XCI7XG4gICAgLy8gV2hlbiB0ZXN0aW5nIGxvY2FsIFNMRFM0VkZcblx0XHQvLyBjc3MuaHJlZiA9IFwiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQ0My9zdHlsZXMvZXh0ZW5zaW9uLmNzc1wiO1xuICAgIC8vIGNzcy5ocmVmPVwiaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2Evc2FsZXNmb3JjZS5jb20vdWM/YXV0aHVzZXI9MCZpZD0wQjJRYzNXcnZ3YW1aWTNsdlJtTkpNV1phZVVrJmV4cG9ydD1kb3dubG9hZFwiO1xuICAgIC8vIGNzcy5ocmVmPVwiaHR0cHM6Ly9kZXNpZ24tc3lzdGVtLXZpc3VhbGZvcmNlLmhlcm9rdWFwcC5jb20vc3R5bGVzL2V4dGVuc2lvbi5jc3M/dG9rZW49NTE4MjhiMjg4NDNiZTc2YjU3MTUxMDVlNWE3MTUwMDNcIjtcblx0XHQvLyBjc3MuaHJlZiA9IFwiaHR0cDovL2xleDR2Zi1kZXYuc3VyZ2Uuc2gvc3R5bGVzL3Byb2R1Y3Rpb24uY3NzXCI7XG4gICAgY3NzLmhyZWYgPSBtb2RlbC5vcmdMaWdodG5pbmdTdHlsZXNoZWV0c0Nzc1BhdGg7XG5cdFx0Y3NzLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgY3NzLmlkID0gU0VMRUNUT1JfQ1NTX1NMRFM0VkY7XG4gICAgY3NzLmNsYXNzTGlzdC5hZGQoU0VMRUNUT1JfQ1NTX1NMRFM0VkYpO1xuICAgIGNvbnRlbnREb2MuaGVhZC5hcHBlbmRDaGlsZChjc3MpO1xuXHRcdGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgbXNnOiBcImxpZ2h0bmluZ1N0eWxlc2hlZXRzQWN0aXZhdGVkXCIsIHZhbHVlOiB0cnVlIH0pO1xuXHRcdGhhbmRsZUNhdGVnb3J5U2VsZWN0aW9uKENBVEVHT1JZX0xJR0hUTklORyk7XG4gIH1cbn1cblxuY29uc3QgaGFuZGxlQ2F0ZWdvcnlTdGF0ZUZyb21DaGlsZENsaWNrID0gY2F0ZWdvcnkgPT4ge1xuXHRjb25zdCBjYXRlZ29yeUVsZW1lbnRzID0gbW9kZWwuZGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLmNhdGVnb3J5ID09IGNhdGVnb3J5KTtcblx0Y29uc3QgY2F0ZWdvcnlDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjaGVja2JveF8ke2NhdGVnb3J5fWApO1xuXHRpZihjYXRlZ29yeUVsZW1lbnRzLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5hY3RpdmF0ZWQgPT09IHRydWUpKSB7XG5cdFx0Ly90dXJuIG9uIGNhdGVnb3J5IGNoZWNrXG5cdFx0Y2F0ZWdvcnlDaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcblx0XHRjYXRlZ29yeUNoZWNrYm94LmluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcblx0fSBlbHNlIGlmKGNhdGVnb3J5RWxlbWVudHMuZXZlcnkoaXRlbSA9PiBpdGVtLmFjdGl2YXRlZCA9PT0gZmFsc2UpKSB7XG5cdFx0Ly90dXJuIG9mZiBjYXRlZ29yeSBjaGVja1xuXHRcdGNhdGVnb3J5Q2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuXHRcdGNhdGVnb3J5Q2hlY2tib3guaW5kZXRlcm1pbmF0ZSA9IGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdC8vdHVybiBvbiBtaXhlZFxuXHRcdGNhdGVnb3J5Q2hlY2tib3guaW5kZXRlcm1pbmF0ZSA9IHRydWU7XG5cdH1cbn07XG5cbmNvbnN0IGRlYWN0aXZhdGVDU1NFbGVtZW50ID0gZWxlbWVudCA9PiB7XG5cdGVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgXCJtYXgtd2lkdGg6IDFweFwiKTtcbiAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNFTEVDVE9SX0NTU19ERUFDVElWQVRFRCk7XG5cdG1vZGVsLnNldEFjdGl2YXRpb24oZWxlbWVudC5pZCwgZmFsc2UpO1xuICBjb25zb2xlLmxvZyhcIkRlYWN0aXZhdGluZzpcIiwgZWxlbWVudC5kYXRhc2V0LmluaXRDc3NVcmwpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxuY29uc3QgYWN0aXZhdGVDU1NFbGVtZW50ID0gZWxlbWVudCA9PiB7XG5cdGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoU0VMRUNUT1JfQ1NTX0RFQUNUSVZBVEVEKTtcblx0bW9kZWwuc2V0QWN0aXZhdGlvbihlbGVtZW50LmlkLCB0cnVlKTtcblx0Y29uc29sZS5sb2coXCJBY3RpdmF0aW5nOlwiLCBlbGVtZW50LmRhdGFzZXQuaW5pdENzc1VybCk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5jb25zdCBjcmVhdGVSYW5kb21JZCA9ICgpID0+IGAkeyhuZXcgRGF0ZSgpKS5nZXRUaW1lKCl9LSR7TWF0aC5yYW5kb20oKSoxMCoqMTd9YDtcblxuY29uc3QgZ2V0UGFnZVN0eWxlU2hlZXRzID0gKCkgPT4ge1xuXHRjb25zdCBzdHlsZXNoZWV0c1F1ZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9DU1NfTElOSyk7XG5cdGlmKHN0eWxlc2hlZXRzUXVlcnkubGVuZ3RoKSB7XG5cdFx0Y29uc3QgcHJldlN0eWxlc2hlZXRzID0gY3VycmVudFN0eWxlc2hlZXRzLmNvbmNhdChbXSk7XG5cdFx0Y3VycmVudFN0eWxlc2hlZXRzID0gQXJyYXkuZnJvbShzdHlsZXNoZWV0c1F1ZXJ5KTtcblx0XHRjdXJyZW50U3R5bGVzaGVldHNcblx0XHRcdC5maWx0ZXIoY3NzTGluayA9PiAhY3NzTGluay5jbGFzc0xpc3QuY29udGFpbnMoU0VMRUNUT1JfQ1NTX1BST0NFU1NFRCkpXG5cdFx0XHQubWFwKGNzc0xpbmsgPT4gcHJvY2Vzc0Nzc0xpbmtzKGNzc0xpbmspKTtcblx0XHRpZihjdXJyZW50U3R5bGVzaGVldHMubGVuZ3RoICE9IHByZXZTdHlsZXNoZWV0cy5sZW5ndGgpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiQ1NTIEZvdW5kOlwiLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0NTU19MSU5LKSk7XG5cdFx0XHRyZW5kZXIoKTtcblx0XHR9O1xuXHR9XG59XG5cbmNvbnN0IGdldFBhZ2VTdHlsZVRhZ3MgPSAoKSA9PiB7XG5cdGNvbnN0IHN0eWxlVGFnc1F1ZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9TVFlMRV9UQUcpO1xuXHRpZihzdHlsZVRhZ3NRdWVyeS5sZW5ndGgpIHtcblx0XHRjb25zdCBwcmV2U3R5bGVUYWdzID0gY3VycmVudFN0eWxlVGFncy5jb25jYXQoW10pO1xuXHRcdGN1cnJlbnRTdHlsZVRhZ3MgPSBBcnJheS5mcm9tKHN0eWxlVGFnc1F1ZXJ5KTtcblx0XHRjdXJyZW50U3R5bGVUYWdzXG5cdFx0XHQuZmlsdGVyKHN0eWxlVGFnID0+ICFzdHlsZVRhZy5jbGFzc0xpc3QuY29udGFpbnMoU0VMRUNUT1JfQ1NTX1BST0NFU1NFRCkpXG5cdFx0XHQubWFwKHN0eWxlVGFnID0+IHByb2Nlc3NTdHlsZVRhZ3Moc3R5bGVUYWcpKTtcblx0XHRpZihjdXJyZW50U3R5bGVUYWdzLmxlbmd0aCAhPSBwcmV2U3R5bGVUYWdzLmxlbmd0aCkge1xuXHRcdFx0Y29uc29sZS5sb2coXCJTdHlsZSBUYWcgRm91bmQ6XCIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfU1RZTEVfVEFHKSk7XG5cdFx0XHRyZW5kZXIoKTtcblx0XHR9O1xuXHR9XG59XG5cbmNvbnN0IGhhbmRsZUNhdGVnb3J5U2VsZWN0aW9uID0gY2F0ZWdvcnkgPT4ge1xuXHRjb25zdCBlbGVtZW50RGF0YVNldCA9IG1vZGVsLmRhdGEuZmlsdGVyKGVsZW1lbnREYXRhID0+IFtDQVRFR09SWV9DTEFTU0lDLENBVEVHT1JZX0xJR0hUTklOR10uaW5jbHVkZXMoZWxlbWVudERhdGEuY2F0ZWdvcnkpICk7XG5cdGlmKGNhdGVnb3J5ID09IENBVEVHT1JZX0xJR0hUTklOR1xuXHRcdCYmICFlbGVtZW50RGF0YVNldC5maW5kKGVsZW1lbnREYXRhID0+IGVsZW1lbnREYXRhLmNhdGVnb3J5ID09IENBVEVHT1JZX0xJR0hUTklORykpXG5cdFx0YXBwbHlMaWdodG5pbmdTdHlsZXNoZWV0c0Nzcyh3aW5kb3cpO1xuXG5cdGVsZW1lbnREYXRhU2V0Lm1hcChlbGVtZW50RGF0YSA9PiAoXG5cdFx0dG9nZ2xlQ1NTRWxlbWVudChcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnREYXRhLmlkKSxcblx0XHRcdGVsZW1lbnREYXRhLmNhdGVnb3J5ID09IGNhdGVnb3J5XG5cdFx0KVxuXHQpKTtcblx0cmVuZGVyKCk7XG59XG5cbmNvbnN0IGhhbmRsZVBpY2tMaXN0U2VsZWN0ID0gKGxpc3RJdGVtKSA9PiB7XG5cdGNvbnN0IGNhdGVnb3J5ID0gbGlzdEl0ZW0uZGF0YXNldC5jYXRlZ29yeTtcblx0bW9kZWwudGhlbWVTZWxlY3RlZCA9IGNhdGVnb3J5O1xuXHRoYW5kbGVDYXRlZ29yeVNlbGVjdGlvbihjYXRlZ29yeSk7XG59XG5cbmNvbnN0IHByb2Nlc3NDc3NMaW5rcyA9IGNzc0xpbmsgPT4ge1xuICBjb25zb2xlLmxvZyhcIlByb2Nlc3Npbmc6XCIsIGNzc0xpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykpOyAvL2Nzc0xpbmtcblx0Y29uc3QgaHJlZiA9IGNzc0xpbmsuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG5cdGNzc0xpbmsuaWQgPSBjcmVhdGVSYW5kb21JZCgpO1xuXHRjc3NMaW5rLmRhdGFzZXQuaW5pdENzc1VybCA9IGNzc0xpbmsuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG5cdGNzc0xpbmsuY2xhc3NMaXN0LmFkZChTRUxFQ1RPUl9DU1NfUFJPQ0VTU0VEKTtcblx0bW9kZWwuYWRkKG1vZGVsLmdldENzc0xpbmtEYXRhKGNzc0xpbmspKTtcbiAgcmV0dXJuIGNzc0xpbms7XG59XG5cbmNvbnN0IHByb2Nlc3NTdHlsZVRhZ3MgPSBzdHlsZVRhZyA9PiB7XG5cdGNvbnNvbGUubG9nKFwiUHJvY2Vzc2luZzpcIiwgc3R5bGVUYWcuaW5uZXJIVE1MLnRyaW0oKS5zdWJzdHJpbmcoMCwgMjQpICsgXCLigKZcIik7IC8vc3R5bGVUYWdcblx0c3R5bGVUYWcuaWQgPSBjcmVhdGVSYW5kb21JZCgpO1xuXHRzdHlsZVRhZy5jbGFzc0xpc3QuYWRkKFNFTEVDVE9SX0NTU19QUk9DRVNTRUQpO1xuXHRtb2RlbC5hZGQobW9kZWwuZ2V0U3R5bGVUYWdEYXRhKHN0eWxlVGFnKSk7XG5cdHJldHVybiBzdHlsZVRhZztcbn1cblxuY29uc3QgZmV0Y2hUZW1wbGF0ZXMgPSAoKSA9PiB7XG5cdHJldHVybiBmZXRjaChjaHJvbWUucnVudGltZS5nZXRVUkwoVVJMX1RFTVBMQVRFKSlcblx0XHQudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpXG5cdFx0LnRoZW4ocmVzcG9uc2UgPT4ge1xuXHRcdFx0Y29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0d3JhcHBlci5pbm5lckhUTUwgPSByZXNwb25zZTtcblx0XHRcdGxldFxuXHRcdFx0XHQkdGVtcGxhdGVzID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKFwidGVtcGxhdGVcIiksXG5cdFx0XHRcdHRlbXBsYXRlcyA9IHt9O1xuXHRcdFx0QXJyYXkuZnJvbSgkdGVtcGxhdGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHRlbXBsYXRlKXtcblx0XHRcdFx0dGVtcGxhdGVzW3RlbXBsYXRlLmlkXSA9IHRlbXBsYXRlLmlubmVySFRNTC50cmltKCk7XG5cdFx0XHR9KTtcblx0XHRcdG1vZGVsLnRlbXBsYXRlcyA9IHRlbXBsYXRlcztcblx0XHR9KVxufVxuXG5jb25zdCB0b2dnbGVDU1NFbGVtZW50ID0gKGVsZW1lbnQsIGlzQ2hlY2tlZCkgPT4gKFxuXHRlbGVtZW50ID9cblx0XHRpc0NoZWNrZWQgP1xuXHRcdFx0YWN0aXZhdGVDU1NFbGVtZW50KGVsZW1lbnQpIDpcblx0XHRcdGRlYWN0aXZhdGVDU1NFbGVtZW50KGVsZW1lbnQpIDpcblx0XHRjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gZmluZCB0aGUgQ1NTIGxpbmsgZWxlbWVudCB0byBkZS9hY3RpdmF0ZVwiKVxuKVxuXG5jaHJvbWUuZXh0ZW5zaW9uLnNlbmRNZXNzYWdlKHt9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuXHR2YXIgcmVhZHlTdGF0ZUNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblx0XHRpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7XG5cdFx0XHRjbGVhckludGVydmFsKHJlYWR5U3RhdGVDaGVja0ludGVydmFsKTtcblxuXHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdFx0Ly8gVGhpcyBwYXJ0IG9mIHRoZSBzY3JpcHQgdHJpZ2dlcnMgd2hlbiBwYWdlIGlzIGRvbmUgbG9hZGluZ1xuXHRcdFx0Y29uc29sZS5sb2coXCJyZWFkeVN0YXRlXCIsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblx0XHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRcdFx0bGV0IGNvbmZpcm1Mb2FkQ1NTID0gbnVsbDtcblx0XHQgIGNvbnN0IGhhc1Zpc3VhbGZvcmNlQ2xhc3NlcyA9IEJvb2xlYW4od2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcGV4cCwgLmJQYWdlQmxvY2ssIC5leHQtY2hyb21lLCAuc2ZkY0JvZHknKSk7XG5cdFx0ICBjb25zdCBoYXNQYWdlQ29udGVudCA9IEJvb2xlYW4od2luZG93LmRvY3VtZW50LmJvZHkuaW5uZXJIVE1MLnRyaW0oKS5sZW5ndGgpOyAvLyB0ZXN0IGZvciBlbXB0eSBwYWdlXG5cdFx0XHRjb25zdCBpc1Zpc3VhbGZvcmNlRnJhbWUgPVxuXHRcdFx0XHRSZWdFeHAoL3ZmRnJhbWVJZF9cXGQrLykudGVzdCh3aW5kb3cubmFtZSk7IC8vIHx8XG5cdFx0XHRcdC8vIFJlZ0V4cCgvXlxcL2FwZXhcXC98XFwuYXBleHAvKS50ZXN0KHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7IC8vIHRlc3QgZm9yIGZyYW1lIHdpdGggVmlzdWFsZm9yY2UgcGFnZVxuXHRcdFx0Y29uc3QgaXNWYWxpZFZpc3VhbGZvcmNlUGFnZSA9XG5cdFx0XHRcdGhhc1BhZ2VDb250ZW50ICYmXG5cdFx0XHRcdCgod2luZG93ICE9IHRvcCAmJiBpc1Zpc3VhbGZvcmNlRnJhbWUpIHx8XG5cdFx0XHRcdCh3aW5kb3cgPT0gdG9wICYmIGhhc1Zpc3VhbGZvcmNlQ2xhc3NlcyApKTtcblxuXHRcdFx0ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGUgPT4ge1xuXHRcdFx0XHRjb25zdCBjbGlja2VkRWxlbWVudCA9IGV2ZW50LnRhcmdldDtcblx0XHRcdFx0Y29uc3QgdG9nZ2xlID0gKGNoZWNrYm94LCB2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGlmKHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRpZihjaGVja2JveC5jaGVja2VkICE9PSB2YWx1ZSkgY2hlY2tib3guY2xpY2soKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2hlY2tib3guY2xpY2soKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGNoZWNrYm94O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoY2xpY2tlZEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2F0ZWdvcnktY2hlY2tcIikpIHtcblx0XHRcdFx0XHRtb2RlbC5kYXRhXG5cdFx0XHRcdFx0XHQuZmlsdGVyKGVsZW1lbnREYXRhID0+IGVsZW1lbnREYXRhLmNhdGVnb3J5ID09IGNsaWNrZWRFbGVtZW50LmRhdGFzZXQuY3NzQ2F0ZWdvcnkpXG5cdFx0XHRcdFx0XHQubWFwKGVsZW1lbnREYXRhID0+IChcblx0XHRcdFx0XHRcdFx0dG9nZ2xlQ1NTRWxlbWVudChcblx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50RGF0YS5pZCksXG5cdFx0XHRcdFx0XHRcdFx0Y2xpY2tlZEVsZW1lbnQuY2hlY2tlZFxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpKTtcblx0XHRcdFx0XHRyZW5kZXIoKTtcblx0XHRcdFx0fVxuXG5cdFx0ICAgIGlmKGNsaWNrZWRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImxpc3QtaXRlbS1jaGVja1wiKSkge1xuXHRcdFx0XHRcdHRvZ2dsZUNTU0VsZW1lbnQoXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjbGlja2VkRWxlbWVudC5kYXRhc2V0LmNzc05vZGVJZCksXG5cdFx0XHRcdFx0XHRjbGlja2VkRWxlbWVudC5jaGVja2VkXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdGhhbmRsZUNhdGVnb3J5U3RhdGVGcm9tQ2hpbGRDbGljayhjbGlja2VkRWxlbWVudC5kYXRhc2V0LmNzc0NhdGVnb3J5KTtcblx0XHQgICAgfVxuXHRcdFx0fSlcblxuXHRcdFx0ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG5cdFx0XHRcdGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImJ1dHRvbi1wYW5lbC1jbG9zZVwiKSkgdG9nZ2xlUGFuZWwoKTtcblx0XHRcdFx0aWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnV0dG9uLWFwcGx5LWxzc1wiKSkgYXBwbHlMaWdodG5pbmdTdHlsZXNoZWV0c0Nzcyh3aW5kb3cpO1xuXHRcdFx0fSlcblxuXHRcdFx0ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGUgPT4ge1xuXHRcdFx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJzbGRzLWxpc3Rib3hfX29wdGlvblwiKSA/IGUudGFyZ2V0IDogZS50YXJnZXQuY2xvc2VzdChcIi5zbGRzLWxpc3Rib3hfX29wdGlvblwiKTtcblx0XHRcdFx0aWYodGFyZ2V0KSB7XG5cdFx0XHRcdFx0aGFuZGxlUGlja0xpc3RTZWxlY3QodGFyZ2V0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsIGUgPT4ge1xuXHRcdCAgICBpZihlLnRhcmdldC5pZCA9PSBcImNvbWJvYm94LXRoZW1lLXNlbGVjdFwiKSB7XG5cdFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGRzLWNvbWJvYm94XCIpLmNsYXNzTGlzdC5hZGQoXCJzbGRzLWlzLW9wZW5cIik7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgZSA9PiB7XG5cdFx0ICAgIGlmKGUudGFyZ2V0LmlkID09IFwiY29tYm9ib3gtdGhlbWUtc2VsZWN0XCIpIHtcblx0XHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsZHMtY29tYm9ib3hcIikuY2xhc3NMaXN0LnJlbW92ZShcInNsZHMtaXMtb3BlblwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRcdFx0Y2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2UoeyBtc2c6IFwicGFnZUFjdGlvblN0YXRlXCIsIHZhbHVlOiBpc1ZhbGlkVmlzdWFsZm9yY2VQYWdlIH0pO1xuXG5cdFx0ICBpZihpc1ZhbGlkVmlzdWFsZm9yY2VQYWdlKSB7XG5cdFx0XHRcdGZldGNoVGVtcGxhdGVzKCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgb246XCIsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG5cdFx0XHRcdFx0Y29uc3QgcG9sbENTU0xvYWRlZCA9IHNldEludGVydmFsKGdldFBhZ2VTdHlsZVNoZWV0cywgMzAwMCk7XG5cdFx0XHRcdFx0Z2V0UGFnZVN0eWxlVGFncygpO1xuXHRcdFx0ICAgIGdldFBhZ2VTdHlsZVNoZWV0cygpO1xuXG5cdFx0XHRcdFx0Y2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChyZXF1ZXN0LCBzZW5kZXIsIHNlbmRSZXNwb25zZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coc2VuZGVyLnRhYiA/XG5cdFx0XHRcdFx0XHRcdFwiZnJvbSBhIGNvbnRlbnQgc2NyaXB0OlwiICsgc2VuZGVyLnRhYi51cmwgOlxuXHRcdFx0XHRcdFx0XHRcImZyb20gdGhlIGV4dGVuc2lvblwiKTtcblx0XHRcdFx0XHRcdHN3aXRjaChyZXF1ZXN0Lm1zZykge1xuXHRcdFx0XHRcdFx0XHRjYXNlIFwiYWN0aXZhdGVTbGRzNFZmXCI6XG5cdFx0XHRcdFx0ICAgICAgYXBwbHlMaWdodG5pbmdTdHlsZXNoZWV0c0Nzcyh3aW5kb3cpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZW5kUmVzcG9uc2UoeyBtc2c6IHJlcXVlc3QubXNnLCBjb21wbGV0ZTogdHJ1ZSB9KTtcblx0XHRcdFx0XHRcdFx0Y2FzZSBcIm9wZW5QYW5lbFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0b2dnbGVQYW5lbCh0cnVlKTtcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImlzTGlnaHRuaW5nU3R5bGVzaGVldHNBY3RpdmVcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2VuZFJlc3BvbnNlKHsgbXNnOiByZXF1ZXN0Lm1zZywgdmFsdWU6IG1vZGVsLmlzTGlnaHRuaW5nU3R5bGVzaGVldHNBY3RpdmUoKSB9KTtcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImlzUGFuZWxPcGVuXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNlbmRSZXNwb25zZSh7IG1zZzogcmVxdWVzdC5tc2csIHZhbHVlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChXUkFQUEVSX0lEKS5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1vcGVuXCIpIH0pO1xuXHRcdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB7IG1zZzogYE5vIEV4dGVuc2lvbiBNZXNzYWdlIEhhbmRsZXIgZm9yICR7cmVxdWVzdH1gfVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KVxuXHRcdCAgfVxuXHRcdH1cblx0fSwgMTApO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbmplY3QvaW5qZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!********************************!*\
  !*** ./src/inject/inject.scss ***!
  \********************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmplY3QvaW5qZWN0LnNjc3M/YjU1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2luamVjdC9pbmplY3Quc2Nzc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ })
/******/ ]);
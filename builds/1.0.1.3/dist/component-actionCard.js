!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};b.m=a,b.c=c,b.p="",b(0)}({0:function(a,b,c){a.exports=c(7)},7:function(a,b){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){function a(a){this.classList.toggle("is-collapsed")}function b(){var a=this.getAttribute("id"),b=this.getAttribute("name");if(a){var c=JSON.stringify({actionName:b,actionId:a}),d="\n               window[Symbol.for('AuraDevTools')].Inspector.publish(\"AuraInspector:RemoveActionFromWatchList\", "+c+");\n            ";chrome.devtools.inspectedWindow.eval(d,function(a,b){b&&console.log("ERROR from removeActionCard, CMD:",d,b)})}else console.error("removeActionCard, couldn't find actionId");this.parentNode.removeChild(this)}function d(){var a=this,b=a.querySelector("#select_dropOrModify").value;if(this.setAttribute("dropOrModify",b),"dropAction"===b)l(a.querySelector(".div_editActionResult")),l(a.querySelector(".div_errorResponse"));else if("modifyResponse"===b){k(a.querySelector(".div_editActionResult")),l(a.querySelector(".div_errorResponse"));var c=this.getAttribute("returnValue");c=JSON.parse(c);var d=[];p(c,d,null);for(var e=a.querySelector("#select_actionResultKey"),f=0;f<d.length;f++){returnValueArrayi=d[f];var g=Object.keys(returnValueArrayi)[0],h=document.createElement("option");h.text=g,e.add(h)}k(a.querySelector(".div_editActionResult"))}else"errorResponseNextTime"===b?(l(a.querySelector(".div_editActionResult")),k(a.querySelector(".div_errorResponse"))):console.log("unknown choice for dropOrModify, we need a handler for it !!!")}function e(){var a=this,b=this.getAttribute("id");if(b){var c=a.querySelector("#textarea_actionErrorMessage").value.trim(),d=a.querySelector("#textarea_actionErrorStack").value.trim(),e={message:c,stack:d};if(c&&c.length){var f=JSON.stringify({actionName:this.getAttribute("name"),actionId:b.substring(12,b.length),nextResponse:void 0,nextError:e}),g="\n\t               window[Symbol.for('AuraDevTools')].Inspector.publish(\"AuraInspector:EnqueueNextErrorForAction\", "+f+");\n\t            ";chrome.devtools.inspectedWindow.eval(g,function(a,b){b&&console.log("ERROR from SaveActionResult_OnClick, CMD:",g,b)}),a.querySelector("#textarea_actionErrorMessage").setAttribute("readonly","readonly"),a.querySelector("#textarea_actionErrorStack").setAttribute("readonly","readonly"),l(a.querySelector("#button_saveError")),l(a.querySelector("#button_cancelError")),k(a.querySelector("#button_editError"))}else console.log("nextErrorMsg cannot be empty")}}function f(){var a=this;this.getAttribute("id")&&(a.querySelector("#textarea_actionErrorMessage").removeAttribute("readonly"),a.querySelector("#textarea_actionErrorStack").removeAttribute("readonly"),k(a.querySelector("#button_saveError")),k(a.querySelector("#button_cancelError")),l(a.querySelector("#button_editError")))}function g(){var a=this;l(a.querySelector(".div_errorResponse")),a.querySelector("#select_dropOrModify").value="dropAction"}function h(){var a=this;l(a.querySelector(".div_editActionResult")),a.querySelector("#select_dropOrModify").value="dropAction"}function i(){var a=this;a.querySelector("#textarea_actionResultValue").removeAttribute("readonly"),k(a.querySelector("#button_saveActionResult")),k(a.querySelector("#button_cancelChangeActionResult")),l(a.querySelector("#button_editActionResult"))}function j(){var a=this,b=this.getAttribute("id"),c=this.getAttribute("name"),d=this.getAttribute("parameters"),e=(this.getAttribute("isStorable"),a.querySelector("#select_actionResultKey").value);e=e?e.trim():void 0;var f=a.querySelector("#textarea_actionResultValue").value,g={};if(b&&e&&e.length&&f){try{f=JSON.parse(f)}catch(a){f=f.trim()}g[e]=f;var h=JSON.stringify({actionName:c,actionParameter:JSON.parse(d),actionId:b.substring(12,b.length),nextResponse:g,nextErrorMsg:void 0}),i="\n               window[Symbol.for('AuraDevTools')].Inspector.publish(\"AuraInspector:EnqueueNextResponseForAction\", "+h+");\n            ";chrome.devtools.inspectedWindow.eval(i,function(a,b){b&&console.log("ERROR from SaveActionResult_OnClick, CMD:",i,b)}),a.querySelector("#textarea_actionResultValue").setAttribute("readonly","readonly"),l(a.querySelector("#button_saveActionResult")),l(a.querySelector("#button_cancelChangeActionResult")),k(a.querySelector("#button_editActionResult"))}else console.log("SaveActionResult_OnClick, either actionId is bogus, or bad value of key/value in nextResponse",b,e,f)}function k(a){a&&a.classList.remove("slds-hide")}function l(a){a&&a.classList.add("slds-hide")}function m(a){var b=document.createDocumentFragment(),c=a.split("$"),d=document.createElement("span");d.className="action-name-controller",d.textContent=c[0];var e=document.createElement("span");e.className="action-name-method",e.textContent=c[1];var f=document.createElement("span");return f.className="action-name-delimiter",f.textContent="$",b.appendChild(d),b.appendChild(f),b.appendChild(e),b}function n(a){return!!(a&&"object"===(void 0===a?"undefined":c(a))&&a instanceof Array&&a.length&&a.length>0)}function o(a){return!(!a||"object"!==(void 0===a?"undefined":c(a))||a instanceof Array)}function p(a,b,c){if("string"==typeof a||"boolean"==typeof a||"number"==typeof a||null===a||void 0===a){if(null!=c&&void 0!=c&&"$serId$"!==c){var d={};d[c]=a,b.push(d)}}else if(o(a))for(var e in a){var f=a[e];p(f,b,e)}else if(n(a))for(var g=0;g<a.length;g++){var h=a[g];p(h,b,null)}}var q=document.currentScript.ownerDocument,r=Object.create(HTMLElement.prototype);r.attachedCallback=function(){var a={id:this.getAttribute("actionId"),actionName:this.getAttribute("name"),parameters:this.getAttribute("parameters"),state:this.getAttribute("state"),isBackground:this.getAttribute("isBackground"),isStorable:this.getAttribute("isStorable"),isRefresh:"true"===this.getAttribute("isStorable")?this.getAttribute("isRefresh"):"-",isAbortable:this.getAttribute("isAbortable"),returnValue:this.getAttribute("returnValue"),returnError:"[]"===this.getAttribute("returnError")?void 0:this.getAttribute("returnError"),howDidWeModifyResponse:this.getAttribute("howDidWeModifyResponse"),fromStorage:"true"===this.getAttribute("isStorable")?this.getAttribute("isFromStorage"):"-",storageKey:"true"===this.getAttribute("isStorable")?'{"storageKey":'+JSON.stringify(this.getAttribute("storageKey"))+"}":"-",storableSize:"true"===this.getAttribute("isStorable")?(JSON.stringify(this.getAttribute("returnValue")).length/1024).toFixed(1)+" KB":"-",callingComponent:this.getAttribute("callingComponent")},b=this,c=b.querySelector("#action-name");c.innerHTML="",c.appendChild(m(a.actionName)),b.querySelector(".parameters").textContent=a.parameters,b.querySelector(".storageKey").textContent=a.storageKey,b.querySelector("#actionId").textContent=a.id,b.querySelector("#actionState").textContent=a.state,b.querySelector("#actionIsAbortable").textContent=a.isAbortable,b.querySelector("#actionIsBackground").textContent=a.isBackground,b.querySelector("#actionIsStorable").textContent=a.isStorable,b.querySelector("#actionStorableSize").textContent=a.storableSize,b.querySelector("#actionIsRefresh").textContent=a.isRefresh,b.querySelector("#actionFromStorage").textContent=a.fromStorage;var d=b.querySelector("#callingComponent");if(!d.hasChildNodes())if(a.callingComponent){var e=document.createElement("aurainspector-auracomponent");e.setAttribute("globalId",a.callingComponent),e.setAttribute("summarize","true"),d.appendChild(e)}else b.querySelector(".calling-component-container").classList.add("slds-hide");if(void 0!=a.returnError||null!=a.returnError?(this.classList.add("has-error"),b.querySelector("#actionError").textContent=a.returnError,b.querySelector("#action-response-container").classList.add("slds-hide"),b.querySelector("#action-error-container").classList.remove("slds-hide")):(this.classList.remove("has-error"),b.querySelector("#actionResult").textContent=a.returnValue,b.querySelector("#action-response-container").classList.remove("slds-hide"),b.querySelector("#action-error-container").classList.add("slds-hide")),this.hasAttribute("stats")){var f=JSON.parse(this.getAttribute("stats"));b.querySelector("#statsCreated").textContent=f.created}"false"!==a.isStorable&&!1!==a.isStorable||b.querySelector(".attributes").classList.add("storable-false"),"true"===this.getAttribute("toWatch")&&(b.querySelector(".remove-card").classList.remove("slds-hide"),b.querySelector(".action-card-wrapper").classList.add("watch"),"modifyResponse"===this.getAttribute("dropOrModify")?(k(b.querySelector(".div_editActionResult")),l(b.querySelector(".div_errorResponse"))):"errorResponseNextTime"===this.getAttribute("dropOrModify")?(l(b.querySelector(".div_editActionResult")),k(b.querySelector(".div_errorResponse"))):(l(b.querySelector(".div_errorResponse")),l(b.querySelector(".div_editActionResult"))))},r.createdCallback=function(){var c=q.querySelector("template"),k=document.importNode(c.content,!0),l=this;l.appendChild(k),l.querySelector(".action-toggle").addEventListener("click",a.bind(this)),l.querySelector("#select_dropOrModify").addEventListener("change",d.bind(this)),l.querySelector(".remove-card").addEventListener("click",b.bind(this));var m=l.querySelector("#select_dropOrModify");if(m.options[0].text=chrome.i18n.getMessage("actioncard_dropaction"),m.options[1].text=chrome.i18n.getMessage("actioncard_overrideresult"),m.options[2].text=chrome.i18n.getMessage("actioncard_errorresponse"),l.querySelector("#button_saveActionResult").addEventListener("click",j.bind(this)),l.querySelector("#button_cancelChangeActionResult").addEventListener("click",h.bind(this)),l.querySelector("#button_editActionResult").addEventListener("click",i.bind(this)),l.querySelector("#button_saveError").addEventListener("click",e.bind(this)),l.querySelector("#button_cancelError").addEventListener("click",g.bind(this)),l.querySelector("#button_editError").addEventListener("click",f.bind(this)),"false"===this.getAttribute("collapsible")){l.querySelector("div.action-card-wrapper").classList.remove("is-collapsible")}},r.attributeChangedCallback=function(a,b,c){var d=this;if("collapsible"===a){var e=d.querySelector("div.action-card-wrapper");"false"==c?e.classList.remove("is-collapsible"):e.classList.add("is-collapsible")}};document.registerElement("aurainspector-actionCard",{prototype:r})}()}});
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(8)},,,function(a,b){"use strict";function c(a){this.isComponentId=function(){return c.isComponentId(a)},this.isActionId=function(){return c.isActionId(a)},this.getCleanId=function(){return c.getCleanId(a)},this.toString=function(){return this.getCleanId()},this.getRawId=function(){return a}}b.__esModule=!0,b.default=c,c.isComponentId=function(a){return"string"==typeof a&&a.startsWith(c.COMPONENT_CONTROL_CHAR)},c.isActionId=function(a){return"string"==typeof a&&a.startsWith(c.ACTION_CONTROL_CHAR)},c.getCleanId=function(a){return"string"==typeof a&&(a.startsWith(c.COMPONENT_CONTROL_CHAR)||a.startsWith(c.ACTION_CONTROL_CHAR))?a.substr(1):a},Object.defineProperty(c,"COMPONENT_CONTROL_CHAR",{value:"☺",configurable:!1,writable:!1}),Object.defineProperty(c,"ACTION_CONTROL_CHAR",{value:"❄",configurable:!1,writable:!1}),Object.defineProperty(c,"ESCAPE_CHAR",{value:"⍓",configurable:!1,writable:!1})},,,,,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(9),g=d(f),h=c(10),i=d(h),j=c(11),k=d(j),l=c(14),m=d(l),n=c(15),o=d(n),p=c(16),q=(d(p),c(17)),r=d(q),s=c(18),t=(d(s),c(19)),u=d(t),v=c(20),w=(d(v),c(21)),x=(d(w),c(3)),y=d(x),z=c(13),A=d(z);!function(a){function b(){function a(a){var b=a.target;0===b.id.indexOf("tabs-")&&this.showPanel(b.id)}function b(a){if(a)if("AuraInspector:bootstrap"===a.action)this.publish("AuraInspector:OnBootstrapEnd","DevtoolsPanel: AuraInspector:bootstrap was called.");else if(a.action===H)d(a.key,a.data);else if(a.action===I)for(var b=a.data||[],c=0,e=b.length;c<e;c++)d(b[c].key,b[c].data)}function d(a,b){N.has(a)&&N.get(a).forEach(function(c){try{c(b)}catch(b){console.error("Key: ",a," resulted in error ",b)}})}function f(){this.showPanel("component-tree")}function h(a){if(0===a.scriptUrl.indexOf("chrome-extension://")&&a.classConstructor.startsWith("InspectorPanel")){var b=document.createElement("script");if(b.src=a.scriptUrl,b.onload=function(){var b=window[a.classConstructor];if(!b)return void this.addLogMessage("Tried to create the panel "+a.panelId+" with constructor "+a.classConstructor+" which did not exist.");this.addPanel(a.panelId,new b(this),a.title)}.bind(this),document.body.appendChild(b),a.hasOwnProperty("stylesheetUrl")){var c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("href",a.stylesheetUrl),document.head.appendChild(c)}}}function j(){B()}function l(){this.publish("AuraInspector:OnPanelConnect","DevtoolsPanel:OnAuraInitialized"),B()}function n(){var a=this;this.showLoading(),B(),setTimeout(function(){a.hideLoading()},300)}function p(a){this.classList.contains("is-open")?z(this):x(this)}function q(a){for(var b=a.target,c=b;null!=c&&c!=c.parentNode;){if(c==this)return;c=c.parentNode}z(this)}function s(a){if("A"===a.target.tagName){a.stopPropagation(),a.preventDefault();var b=a.target.getAttribute("href");c.openTab(b)}}function t(a){if(a.keyCode&&(27===a.keyCode||40===a.keyCode||9===a.keyCode||38===a.keyCode))if(this.classList.contains("is-open"))if(a.stopPropagation(),a.preventDefault(),27===a.keyCode)z(this),this.getElementsByClassName("trigger")[0].focus();else{var b=0;if(40===a.keyCode||9===a.keyCode?b=1:(38===a.keyCode||9===a.keyCode&&a.shiftKey)&&(b=-1),0!=b){var c=Array.from(this.getElementsByTagName("a")),d=c.indexOf(document.activeElement),e=c[d+b];e&&e.focus()}}else 27!=a.keyCode&&9!=a.keyCode&&p.call(this,a)}function v(a){a.target.focus()}function w(a){var b=document.querySelector("header.tabs"),c=document.createElement("div");c.id="help",c.className="dropdown-trigger dropdown-trigger--click",c.addEventListener("click",p),c.addEventListener("keydown",t,!1);var d=document.createElement("button");d.className="trigger",d.setAttribute("aria-haspopup","true"),d.insertAdjacentHTML("beforeend",'<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path d="m28.4 38h-5c-0.8 0-1.4-0.6-1.4-1.4v-1.5c0-4.2 2.7-8 6.7-9.4 1.2-0.4 2.3-1.1 3.2-2.1 5-6 0.4-13.2-5.6-13.4-2.2-0.1-4.3 0.7-5.9 2.2-1.3 1.2-2.1 2.7-2.3 4.4-0.1 0.6-0.7 1.1-1.5 1.1h-5c-0.9 0-1.6-0.7-1.5-1.6 0.4-3.8 2.1-7.2 4.8-9.9 3.2-3 7.3-4.6 11.7-4.5 8.3 0.3 15.1 7.1 15.4 15.4 0.3 7-4 13.3-10.5 15.7-0.9 0.4-1.5 1.1-1.5 2v1.5c0 0.9-0.8 1.5-1.6 1.5z m1.6 10.5c0 0.8-0.7 1.5-1.5 1.5h-5c-0.8 0-1.5-0.7-1.5-1.5v-5c0-0.8 0.7-1.5 1.5-1.5h5c0.8 0 1.5 0.7 1.5 1.5v5z"></path></svg>');var e=document.createElement("span");e.className="slds-assistive-text",e.textContent=chrome.i18n.getMessage("tabs_help"),d.appendChild(e),c.appendChild(d);var f=document.createElement("div");f.className="dropdown dropdown--right",f.addEventListener("click",s);var g=document.createElement("ul");g.className="dropdown__list",g.setAttribute("role","menu");for(var h,i,j=0;j<a.length;j++)h=document.createElement("li"),h.className="dropdown__item",h.label=a[j].text,i=document.createElement("a"),i.setAttribute("role","menuitem"),i.href=a[j].href,i.textContent=a[j].text,i.addEventListener("mousemove",v),h.appendChild(i),g.appendChild(h);f.appendChild(g),c.appendChild(f),b.appendChild(c)}function x(a){document.body.addEventListener("click",q.bind(a)),a.classList.add("is-open"),a.setAttribute("aria-expanded","true"),a.getElementsByTagName("a")[0].focus()}function z(a){document.body.removeEventListener("click",q.bind(a)),a.classList.remove("is-open"),a.setAttribute("aria-expanded","false")}function B(){chrome.devtools.inspectedWindow.eval("!!(window.$A || window.Aura)",function(a){var b=document.querySelector("#no-aura-available-container"),c=document.querySelector("#devtools-container");a?(D(b),C(c)):(C(b),D(c))})}function C(a){if(Array.isArray(a)||a instanceof NodeList)return void a.forEach(C);a.classList.remove("slds-hide")}function D(a){if(Array.isArray(a)||a instanceof NodeList)return void a.forEach(D);a.classList.add("slds-hide")}function E(a){function b(a,f,g){if(!a)return a;if("object"===(void 0===a?"undefined":e(a))){if(a.hasOwnProperty("$serRefId$"))return c.has(a.$serRefId$)?c.get(a.$serRefId$):(d.push({parent:f,property:g,$serRefId$:a.$serRefId$}),a);a.hasOwnProperty("$serId$")&&(c.set(a.$serId$,a),delete a.$serId$);for(var g in a)a.hasOwnProperty(g)&&"object"===e(a[g])&&(a[g]=b(a[g],a,g))}return a}if(!a)return a;var c=new Map,d=[];a=b(a);for(var f,g=0,h=d.length;g<h;g++)f=d[g],f.parent[f.property]=c.get(f.$serRefId$);return a}var F,G,H="AuraInspector:publish",I="AuraInspector:publishbatch",J=null,K=(new Map,new Map),L=new Map,M=!1,N=new Map;this.connect=function(){J||(F=chrome.devtools.inspectedWindow.tabId,J=chrome.runtime.connect({name:"AuraInspectorDevtoolsPanel"}),J.onMessage.addListener(b.bind(this)),J.postMessage({action:"BackgroundPage:publish",key:"BackgroundPage:InjectContentScript",data:F}),J.postMessage({subscribe:["AuraInspector:bootstrap"],tabId:F}))},this.disconnect=function(a){},this.init=function(b){var c=this;this.connect(),this.subscribe("AuraInspector:OnBootstrapEnd",function(){if(!M){document.querySelector("header.tabs").addEventListener("click",a.bind(c));var d=new g.default(c),e=new k.default(c),j=new o.default(c),l=new u.default(c),n=new i.default(c),p=new r.default(c);c.addPanel("component-tree",e,chrome.i18n.getMessage("tabs_componenttree")),c.addPanel("performance",j,chrome.i18n.getMessage("tabs_performance")),c.addPanel("transaction",l,chrome.i18n.getMessage("tabs_transactions")),c.addPanel("event-log",d,chrome.i18n.getMessage("tabs_eventlog")),c.addPanel("actions",n,chrome.i18n.getMessage("tabs_actions")),c.addPanel(p.panelId,p,chrome.i18n.getMessage("tabs_storage")),c.addPanel("component-view",new m.default(c)),fetch(chrome.extension.getURL("configuration.json"),{method:"get"}).then(function(a){a.json().then(function(a){w(a.help)})}),c.subscribe("AuraInspector:OnContextMenu",function(){this.publish("AuraInspector:ContextElementRequest",{})}.bind(c)),c.subscribe("AuraInspector:AddPanel",h.bind(c)),c.subscribe("AuraInspector:ShowComponentInTree",f.bind(c)),J.postMessage({subscribe:[H,I],port:J.name,tabId:F}),M=!0,"function"==typeof b&&b()}}),this.subscribe("AuraInspector:OnAuraUnavailable",j.bind(this)),this.subscribe("AuraInspector:OnAuraInitialized",l.bind(this)),this.publish("AuraInspector:OnPanelConnect","DevtoolsPanel: Devtools loaded."+Date.now()),document.querySelector("#no-aura-available-try-again").addEventListener("click",n.bind(this)),B()},this.addPanel=function(a,b,c){if(!L.has(a)){var d=document.createElement("section");if(d.className="tab-body",d.id="tab-body-"+a,c){var e=document.createElement("button");e.appendChild(document.createTextNode(c)),e.id="tabs-"+a,document.querySelector("header.tabs").appendChild(e)}b.init(d),L.set(a,b),document.getElementById("devtools-container").appendChild(d)}},this.showPanel=function(a,b){if(a){var c=document.querySelectorAll("header.tabs button:not(.trigger)"),d=document.querySelectorAll("section.tab-body:not(.sidebar)"),e=0==a.indexOf("tabs-")?a.substring(5):a,f="tabs-"+e,g=L.get(e);if(g!==G&&g){G=g;for(var h=0;h<c.length;h++)c[h].id===f?(c[h].classList.add("selected"),d[h].classList.add("selected")):(c[h].classList.remove("selected"),d[h].classList.remove("selected")),this.hideSidebar();g&&(this.hideLoading(),g.render(b),A.default.set("activePanel",e))}}},this.hasPanel=function(a){return L.has(a)},this.publish=function(a,b){if(a){var c=JSON.stringify(b),d='\n                window.postMessage({\n                    "action": "'+H+'",\n                    "key": "'+a+'",\n                    "data": '+c+"\n                }, window.location.href);\n            ";chrome.devtools.inspectedWindow.eval(d,function(){N.has(a)&&N.get(a).forEach(function(a){a(b)})})}},this.subscribe=function(a,b){N.has(a)||N.set(a,[]),N.get(a).push(b)},this.hideSidebar=function(){document.body.classList.remove("sidebar-visible")},this.showSidebar=function(){document.body.classList.add("sidebar-visible")},this.showLoading=function(){document.getElementById("loading").style.display="block"},this.hideLoading=function(){document.getElementById("loading").style.display="none"},this.getMode=function(a){chrome.devtools.inspectedWindow.eval("$A.getContext().getMode();",a)},this.updateComponentView=function(a){L.get("component-view").setData(a)},this.getComponent=function(a,b,c){if("function"!=typeof b)throw new Error("callback is required for - getComponent(globalId, callback)");y.default.isComponentId(a)&&(a=y.default.getCleanId(a));var d;if(c&&"object"===(void 0===c?"undefined":e(c))){var f=JSON.stringify(c);d="window[Symbol.for('AuraDevTools')].Inspector.getComponent('"+a+"', "+f+");"}else d="window[Symbol.for('AuraDevTools')].Inspector.getComponent('"+a+"');";chrome.devtools.inspectedWindow.eval(d,function(a,c){if(c&&console.error(d," resulted in ",c),a){var e=JSON.parse(a);e=E(e),b(e)}})},this.getComponents=function(a,b){if(!Array.isArray(a))throw new Error("globalIds was not an array - getComponents(globalIds, callback)");for(var c=a.length,d=0,e=[],f=0;f<c;f++)this.getComponent(a[f],function(a,f){e[a]=f,++d==c&&b(e)}.bind(this,f))},this.getRootComponents=function(a){if("function"!=typeof a)throw new Error("callback is required for - getRootComponent(callback)");chrome.devtools.inspectedWindow.eval("window.$A && $A.getRoot() && window[Symbol.for('AuraDevTools')].Inspector.getRootComponents();",function(b,c){if(c&&console.error(c),b){var d=JSON.parse(b);d=E(d),a(d)}})},this.attach=function(a,b){K.has(a)||K.set(a,new Set),K.get(a).add(b)},this.notify=function(a,b){if(K.has(a)){var c={data:b};K.get(a).forEach(function(a){a(c)})}},this.highlightElement=function(a){this.publish("AuraInspector:OnHighlightComponent",a)},this.removeHighlightElement=function(){this.publish("AuraInspector:OnHighlightComponentEnd")},this.addLogMessage=function(a){this.publish("AuraInspector:ConsoleLog",a)},this.addErrorMessage=function(a){console.error(a)},this.jsonParse=function(a){return E(JSON.parse(a))},this.openTab=function(a){a.startsWith("/")?chrome.devtools.inspectedWindow.eval("window.location.origin",function(b){J.postMessage({action:"BackgroundPage:publish",key:"BackgroundPage:OpenTab",data:b+a})}):J.postMessage({action:"BackgroundPage:publish",key:"BackgroundPage:OpenTab",data:a})}}var c=new b;c.init(function(){A.default.getAll({activePanel:"transaction"},function(a){c.hasPanel(a.activePanel)||(a.activePanel="transaction"),c.showPanel(a.activePanel)})})}()},function(a,b){"use strict";function c(a){function b(){return v.all}function c(a){if(!a)return!1;if(!v.application&&"APPLICATION"===a.type)return!1;if(!v.component&&"COMPONENT"===a.type)return!1;if(!v.unhandled&&!h(a))return!1;var b=v.eventName;return!b||(b.startsWith("!")?(b=b.substr(1),!a.name.includes(b)):a.name.includes(b))}function d(a){var b=i(a),c=document.createElement("li"),d=document.createElement("button");d.value="OFF",d.className="toggle",d.addEventListener("click",r);var e=document.createElement("aurainspector-eventCard");if(e.setAttribute("name",a.name),e.setAttribute("sourceId",a.sourceId||""),e.setAttribute("duration",(a.endTime-a.startTime).toFixed(4)),e.setAttribute("type",a.type),e.setAttribute("caller",a.caller),e.setAttribute("parameters",a.parameters),e.setAttribute("collapsed","true"),a.handledBy)e.setAttribute("handledBy",JSON.stringify(a.handledBy)),e.setAttribute("handledByTree",JSON.stringify(a.handledByTree||"{}"));else{var f=C.get(b);f&&(e.setAttribute("handledBy",JSON.stringify(f)),a.handledBy=f)}return e.id=b,c.appendChild(d),c.appendChild(e),u.insertBefore(c,u.firstChild),u.childNodes.length>=z&&u.lastChild.remove(),e.addEventListener("navigateToEvent",n),e}function e(a){x.set(i(a),a)}function f(a){if(w.length>z){var b=w.pop();x.delete(i(b))}w.push(a)}function g(a,b){var c,d,e,f=[],h=C.get(a)||[];if(y.has(a))e="action",d=y.get(a);else if(x.has(a)){e="event";var i=x.get(a);d={id:i.id,sourceId:i.sourceId,name:i.name,startTime:i.startTime}}d&&f.push({id:a,parent:b,data:d,type:e});for(var j=0;j<h.length;j++)h[j],c=h[j].id,f=f.concat(g(c,a));return f}function h(a){if("handledBy"in a)return!a.handledBy||0!==a.handledBy.length;var b=i(a),c=C.get(b);return!!c&&c.length>0}function i(a){return"id"in a?a.id:(a.id="event_"+a.startTime,a.id)}function j(a,b){if(!a)return null;if(!b)return a.parentNode;for(var c=a;!c.matches(b);)if(!(c=c.parentNode)||!c.matches)return null;return c}function k(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function l(a){if(b()){var c=i(a);A.push(c),B=c,C.set(B,[])}}function m(a){if(b()&&(e(a),c(a)&&(f(a),d(a)),B)){var h=A.pop();if(h)if(0!==A.length){B=A[A.length-1];var i=C.get(B);i.push(a)}else{B=null;for(var j=g(h),k=0;k<j.length;k++){var l=document.getElementById(j[k].id);l&&(x.get(j[k].id).handledByTree=j,l.setAttribute("handledByTree",JSON.stringify(j)))}C=new Map}}}function n(a){if(a.detail){var b=document.getElementById(event.detail.eventId);b&&(b.previousElementSibling.value="ON",b.setAttribute("collapsed","false"),b.scrollIntoView({block:"end",behavior:"smooth"}),b.highlight())}}function o(a){if(B){var b="action_"+a.actionId;C.set(b,[]),A.push(b),B=b}}function p(a){if(B){A.pop(),B=A[A.length-1];var b={id:"action_"+a.actionId,scope:a.scope,name:a.name,actionId:a.actionId};C.get(B).push(b),y.set(b.id,b)}}function q(a){w=[],x=new Map,y=new Map,C=new Map,A=[],B=null,u.removeChildren()}function r(a){var b=a.currentTarget,c=b.nextSibling;"OFF"==b.value?(b.value="ON",c.setAttribute("collapsed","false")):(b.value="OFF",c.setAttribute("collapsed","true"))}function s(a){var b=a.srcElement;v.eventName=b.value,this.refresh()}function t(a){var b=j(a.target,"aurainspector-onOffButton");if(b&&b.hasAttribute("data-filter")){var c=b.getAttribute("data-filter");v.hasOwnProperty(c)&&(v[c]=b.classList.contains("on"),"all"!==c&&this.refresh())}}var u,v={all:!1,eventName:"",application:!0,component:!0,unhandled:!1},w=[],x=new Map,y=new Map,z=1e5,A=[],B=null,C=new Map,D={toggle_recording:chrome.i18n.getMessage("menu_record"),clear:chrome.i18n.getMessage("menu_clear"),filter:chrome.i18n.getMessage("menu_filter"),appEvents:chrome.i18n.getMessage("eventlog_menu_appevents"),cmpEvents:chrome.i18n.getMessage("eventlog_menu_cmpevents"),unhandledEvents:chrome.i18n.getMessage("eventlog_menu_unhandled"),appEvents_tooltip:chrome.i18n.getMessage("eventlog_menu_appevents_tooltip"),cmpEvents_tooltip:chrome.i18n.getMessage("eventlog_menu_cmpevents_tooltip"),unhandledEvents_tooltip:chrome.i18n.getMessage("eventlog_menu_unhandled_tooltip")},E='\n        <div class="grid grid-columns scroll-wrapper">\n        <menu type="toolbar no-flex">\n            <li class="record-button"><aurainspector-onOffButton class="circle" data-filter="all" title="'+D.toggle_recording+'"><span>'+D.toggle_recording+'</span></aurainspector-onOffButton></li>\n            <li><button id="clear-button" class="clear-status-bar-item status-bar-item" title="'+D.clear+'"><div class="glyph"></div><div class="glyph shadow"></div></button></li>\n            <li class="divider" style="margin-left: -3px;"></li>\n            <li><input id="filter-text" type="search" placeholder="'+D.filter+'"/></li>\n            <li class="divider"></li>\n            <li><aurainspector-onOffButton class="on" data-filter="application" title="'+D.appEvents_tooltip+'"><span>'+D.appEvents+'</span></aurainspector-onOffButton></li>\n            <li><aurainspector-onOffButton class="on" data-filter="component" title="'+D.cmpEvents_tooltip+'"><span>'+D.cmpEvents+'</span></aurainspector-onOffButton></li>\n            <li><aurainspector-onOffButton class="" data-filter="unhandled" title="'+D.unhandledEvents_tooltip+'"><span>'+D.unhandledEvents+'</span></aurainspector-onOffButton></li>\n        </menu>\n        <ol class="event-log flex scroll" id="event-log"></ol>\n        </div>\n    ';this.init=function(b){b.innerHTML=E,u=b.querySelector("ol#event-log"),a.subscribe("AuraInspector:OnEventStart",l.bind(this)),a.subscribe("AuraInspector:OnEventEnd",m.bind(this)),a.subscribe("AuraInspector:OnClientActionStart",o.bind(this)),a.subscribe("AuraInspector:OnClientActionEnd",p.bind(this)),b.querySelector("#clear-button").addEventListener("click",q.bind(this));var c=b.querySelector("#filter-text");c.addEventListener("change",s.bind(this)),c.addEventListener("keyup",k(s.bind(this),200)),b.querySelector("menu").addEventListener("click",t.bind(this))},this.refresh=function(){u.removeChildren();for(var a,b=0,e=w.length;b<e;b++)a=w[b],c(a)&&d(a)},this.render=function(){a.hideSidebar()}}b.__esModule=!0,b.default=c},function(a,b){"use strict";function c(a){function b(){I=new Map,k()}function c(a){I.set(a.id,a),j(a)}function d(a){if(a&&a.state&&"RESPONSEMODIFIED"===a.state)j(a);else{if(!I.has(a.id))return;var b=I.get(a.id);Object.assign(b,a),j(b)}}function e(a){I=new Map,this.refresh()}function f(a){var b=a.srcElement;H.name=b.value,this.refresh()}function g(a){var b=h(a.target,"aurainspector-onOffButton");if(b&&b.hasAttribute("data-filter")){var c=b.getAttribute("data-filter");H.hasOwnProperty(c)&&(H[c]=!b.classList.contains("on"),"all"!==c&&this.refresh())}}function h(a,b){if(!a)return null;if(!b)return a.parentNode;for(var c=a;!c.matches(b);)if(!(c=c.parentNode)||!c.matches)return null;return c}function i(a){if(H.all)return!1;if(H.storable&&a.storable)return!1;if(H.background&&a.background)return!1;if(H.success&&"SUCCESS"===a.state)return!1;if(H.incomplete&&"INCOMPLETE"===a.state)return!1;if(H.error&&"ERROR"===a.state)return!1;if(H.aborted&&"ABORTED"===a.state)return!1;if(H.stored&&a.fromStorage)return!1;if(H.name){if(0===H.name.indexOf("!")){var b=H.name.substr(1);return!a.defName.includes(b)}return a.defName.includes(H.name)}return!0}function j(a){var b;if(a.idtoWatch)b=document.getElementById("action_card_"+a.idtoWatch),b.parentNode.removeChild(b),b.setAttribute("actionId",a.id),b.setAttribute("returnError",a.error),b.setAttribute("toWatch","false"),b.setAttribute("draggable","true"),b.classList.add("draggable"),b.classList.remove("dropped"),b.classList.remove("actionsToWatch-list"),b.addEventListener("dragstart",r.bind(this)),b.addEventListener("dragend",q.bind(this)),b.setAttribute("collapsible","false");else{if(!i(a))return;"NEW"===a.state?b=l(a.id,!1):(b=document.getElementById("action_card_"+a.id),b||(b=l(a.id,!1)),b.setAttribute("state",a.state),b.setAttribute("returnValue",a.returnValue),b.setAttribute("fromStorage",a.fromStorage),b.setAttribute("storageKey",a.storageKey),b.setAttribute("returnError",a.error),b.setAttribute("howDidWeModifyResponse",a.howDidWeModifyResponse),void 0!=a.howDidWeModifyResponse&&b.classList.add(a.howDidWeModifyResponse),a.stats&&b.setAttribute("stats",JSON.stringify(a.stats)),b.parentNode&&b.parentNode.removeChild(b))}switch(a.state){case"RUNNING":C.appendChild(b);break;case"NEW":B.appendChild(b);break;case"RESPONSEMODIFIED":G.appendChild(b);break;case"ERROR":D.insertBefore(b,D.querySelector(".action-card"));break;case"INCOMPLETE":D.insertBefore(b,D.querySelector(".action-card"));default:D.insertBefore(b,D.querySelector(".action-card"))}}function k(){if(A)for(var a=A.querySelectorAll("aurainspector-actionCard"),b=0,c=a.length;b<c;b++)a[b].parentNode.removeChild(a[b]);if(E)for(var a=E.querySelectorAll("aurainspector-actionCard"),b=0,c=a.length;b<c;b++)a[b].parentNode.removeChild(a[b])}function l(a,b){if(I.has(a)){var c=I.get(a),d=c.params,e=document.createElement("aurainspector-actionCard");return e.id="action_card_"+c.id,e.className="action-card is-collapsed action-card-state-"+c.state,e.setAttribute("actionId",c.id),e.setAttribute("name",c.defName),e.setAttribute("parameters",d),e.setAttribute("state",c.state),e.setAttribute("isStorable",c.storable),e.setAttribute("isRefresh",c.isRefresh),e.setAttribute("isAbortable",c.abortable),e.setAttribute("isBackground",c.background),e.setAttribute("returnValue",c.returnValue),e.setAttribute("isFromStorage",c.fromStorage),e.setAttribute("storageKey",c.storageKey),e.setAttribute("dropOrModify","dropAction"),e.setAttribute("callingComponent",c.callingCmp||""),c.stats&&e.setAttribute("stats",JSON.stringify(c.stats)),!0===b?(e.setAttribute("toWatch",!0),e.setAttribute("collapsible","false")):(e.setAttribute("draggable","true"),e.classList.add("draggable"),e.addEventListener("dragstart",r.bind(this)),e.addEventListener("dragend",q.bind(this)),e.setAttribute("toWatch",!1)),e}}function m(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function n(a){a.preventDefault(),F.className="drop-zone allow-drop"}function o(a){F.className="drop-zone"}function p(a){F.className="drop-zone"}function q(a){a.target.classList.remove("dragging"),"none"!=a.dataTransfer.dropEffect&&(a.target.classList.add("dropped"),a.target.setAttribute("draggable","false"),a.target.classList.remove("draggable"))}function r(a){a.target.classList.add("dragging"),a.dataTransfer.setData("text",a.target.getAttribute("actionId").toString())}function s(a){var b=l(a,!0);F||chrome.devtools.inspectedWindow.eval("console.log('_toWatch missing');"),b.classList.remove("is-collapsed"),F.appendChild(b)}function t(b){if(b&&b.actionName){a.publish("AuraInspector:OnActionToRemoveFromWatchEnqueue",b);var c=document.getElementById(b.actionId);c?(c.setAttribute("draggable","true"),c.classList.remove("dropped"),c.classList.add("draggable")):console.log("AuraInspectorActionsView_OnRemoveActionFromWatchList, couldn't find actionCard on leftside for :",b)}else console.log("AuraInspectorActionsView_OnRemoveActionFromWatchList, bad actionInfo:",b)}function u(b){if(b&&b.actionId&&b.nextResponse){var c=I.get(b.actionId);b.actionIsStorable=c.storable,b.actionStorageKey=c.storageKey,a.publish("AuraInspector:OnActionToWatchEnqueue",b)}}function v(b){b&&b.actionId&&b.nextError&&(I.get(b.actionId),a.publish("AuraInspector:OnActionToWatchEnqueue",b))}function w(b){if(b.preventDefault(),F.className="drop-zone",b&&b.dataTransfer){var c=b.dataTransfer.getData("text");if(c){s(c);var d=I.get(c),e={actionName:d.defName,actionParameter:d.params,actionId:d.id,actionIsStorable:d.storable,actionStorageKey:d.storageKey,nextResponse:void 0};a.publish("AuraInspector:OnActionToWatchEnqueue",e)}else chrome.devtools.inspectedWindow.eval("console.log('dataTransfer.getData.text is missing');")}}function x(b){if(b&&b.id){I.has(b.id)||console.err("Chaos run just request to drop an action that's not in action list of Action View",b,I);var c=I.get(b.id);c.actionOperation=b.actionOperation,a.publish("AuraInspector:OnSomeActionOperationDuringChaosRun",c)}}function y(b){if(b&&b.actionName){var c=z(b);F||chrome.devtools.inspectedWindow.eval("console.log('_toWatch missing');"),F.appendChild(c),b.byChaosRun=!0,a.publish("AuraInspector:OnActionToWatchEnqueue",b)}}function z(a){if(a&&a.actionName&&a.actionParameter&&a.actionId){var b=document.createElement("aurainspector-actionCard");b.id="action_card_"+a.actionId,b.className="action-card action-card-state-BYCHAOSRUN",b.setAttribute("actionId",a.actionId),b.setAttribute("name",a.actionName),b.setAttribute("parameters",a.actionParameter),b.setAttribute("state","BYCHAOSRUN"),b.setAttribute("isStorable",a.actionIsStorable+""),b.setAttribute("isRefresh","false"),b.setAttribute("isAbortable",a.actionIsAbortable+""),b.setAttribute("isBackground",a.actionIsBackground+""),b.setAttribute("returnValue",{}),b.setAttribute("isFromStorage","false"),b.setAttribute("storageKey",a.actionStorageKey),b.setAttribute("dropOrModify","dropAction"),b.setAttribute("toWatch",!0),b.setAttribute("byChaosRun",!0)}return b}var A,B,C,D,E,F,G,H={all:!1,storable:!1,stored:!1,success:!1,incomplete:!1,error:!1,aborted:!1,background:!1,name:""},I=new Map,J={record:chrome.i18n.getMessage("menu_record"),filter:chrome.i18n.getMessage("menu_filter"),clear:chrome.i18n.getMessage("menu_clear"),storable:chrome.i18n.getMessage("actions_menu_storable"),cached:chrome.i18n.getMessage("actions_menu_cached"),background:chrome.i18n.getMessage("actions_menu_background"),success:chrome.i18n.getMessage("actions_menu_success"),incomplete:chrome.i18n.getMessage("actions_menu_incomplete"),error:chrome.i18n.getMessage("actions_menu_error"),aborted:chrome.i18n.getMessage("actions_menu_aborted"),record_tooltip:chrome.i18n.getMessage("actions_menu_record_tooltip"),storable_tooltip:chrome.i18n.getMessage("actions_menu_storable_tooltip"),cached_tooltip:chrome.i18n.getMessage("actions_menu_cached_tooltip"),background_tooltip:chrome.i18n.getMessage("actions_menu_background_tooltip"),success_tooltip:chrome.i18n.getMessage("actions_menu_success_tooltip"),incomplete_tooltip:chrome.i18n.getMessage("actions_menu_incomplete_tooltip"),error_tooltip:chrome.i18n.getMessage("actions_menu_error_tooltip"),pendingoverrides:chrome.i18n.getMessage("actions_section_pendingoverrides"),pendingoverrides_desc:chrome.i18n.getMessage("actions_section_pendingoverrides_description"),processedoverrides:chrome.i18n.getMessage("actions_section_processedoverrides"),pending:chrome.i18n.getMessage("actions_section_pending"),running:chrome.i18n.getMessage("actions_section_running"),completed:chrome.i18n.getMessage("actions_section_completed")},K='\n        <menu type="toolbar">\n            <li class="record-button"><aurainspector-onOffButton class="circle on" data-filter="all" title="'+J.record_tooltip+'"><span>'+J.record+'</span></aurainspector-onOffButton></li>\n            <li><button id="clear-button" class="clear-status-bar-item status-bar-item" title="'+J.clear+'"><div class="glyph"></div><div class="glyph shadow"></div></button></li>\n            <li class="divider" style="margin-left: -3px;"></li>\n            <li><input id="filter-text" type="search" placeholder="'+J.filter+'"/></li>\n            <li class="divider"></li>\n            <li><aurainspector-onOffButton class="on" data-filter="storable" title="'+J.storable_tooltip+'"><span>'+J.storable+'</span></aurainspector-onOffButton></li>\n            <li><aurainspector-onOffButton class="on" data-filter="stored" title="'+J.cached_tooltip+'"><span>'+J.cached+'</span></aurainspector-onOffButton></li>\n            <li><aurainspector-onOffButton class="on" data-filter="background" title="'+J.background_tooltip+'"><span>'+J.background+'</span></aurainspector-onOffButton></li>\n            <li><aurainspector-onOffButton class="on" data-filter="success" title="'+J.success_tooltip+'"><span>'+J.success+'</span></aurainspector-onOffButton></li>\n            <li><aurainspector-onOffButton class="on" data-filter="incomplete" title="'+J.incomplete_tooltip+'"><span>'+J.incomplete+'</span></aurainspector-onOffButton></li>\n            <li><aurainspector-onOffButton class="on" data-filter="error" title="'+J.error_tooltip+'"><span>'+J.error+'</span></aurainspector-onOffButton></li>\n            <li><aurainspector-onOffButton class="on" data-filter="aborted" title="'+J.aborted_tooltip+'"><span>'+J.aborted+'</span></aurainspector-onOffButton></li>\n        </menu>\n        <div class="actions-tab">\n            <div id="actionsToWatch-list" class="actionsToWatch-list">\n                <section class="dark">\n                    <h1>'+J.pendingoverrides+'</h1>\n                    <div id="actionsToWatch-pending" class="drop-zone">\n                        <span class="description">'+J.pendingoverrides_desc+'</span>\n                    </div>\n                </section>\n                <section id="actionsToWatch-completed" class="dark">\n                    <h1>'+J.processedoverrides+'</h1>\n                </section>\n            </div>\n            <div id="actions-list" class="actions-list">\n                <section id="actions-pending">\n                    <h1>'+J.pending+'</h1>\n                </section>\n                <section id="actions-running">\n                    <h1>'+J.running+'</h1>\n                </section>\n                <section id="actions-completed">\n                    <h1>'+J.completed+"</h1>\n                </section>\n            </div>\n        </div>\n    ";this.init=function(h){h.innerHTML=K,A=h.querySelector("#actions-list"),B=h.querySelector("#actions-pending"),C=h.querySelector("#actions-running"),D=h.querySelector("#actions-completed"),E=h.querySelector("#actionsToWatch-list"),F=h.querySelector("#actionsToWatch-pending"),G=h.querySelector("#actionsToWatch-completed"),a.subscribe("AuraInspector:OnActionEnqueue",c.bind(this)),a.subscribe("AuraInspector:OnActionStateChange",d.bind(this)),a.subscribe("AuraInspector:OnPanelConnect",b.bind(this)),a.subscribe("AuraInspector:RemoveActionFromWatchList",t.bind(this)),a.subscribe("AuraInspector:EnqueueNextResponseForAction",u.bind(this)),a.subscribe("AuraInspector:EnqueueNextErrorForAction",v.bind(this)),a.subscribe("AuraInspector:ActionOperationInChaosRun",x.bind(this)),a.subscribe("AuraInspector:EnqueueNextDropForChaosReplay",y.bind(this)),E.addEventListener("dragover",n),E.addEventListener("dragleave",o),E.addEventListener("dragend",p),E.addEventListener("drop",w.bind(this)),h.querySelector("menu").addEventListener("click",g.bind(this)),h.querySelector("#clear-button").addEventListener("click",e.bind(this));var i=h.querySelector("#filter-text");i.addEventListener("change",f.bind(this)),i.addEventListener("keyup",m(f.bind(this),200))},this.render=function(){a.publish("AuraInspector:OnActionToWatchClear",{})},this.refresh=function(){k(),a.publish("AuraInspector:OnActionToWatchClear",{}),I.forEach(function(a){j(a)})}}b.__esModule=!0,b.default=c},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(a){this.refresh()}function c(a){o.expandAll()}
function d(a){var b=a.srcElement.checked;h.default.set("showGlobalIds",b,function(a){this.refresh()}.bind(this))}function e(b){a.removeHighlightElement()}function g(b){if(b&&b.data){var c=(b.data.domNode,b.data.treeNode),d=c&&c.getRawLabel()&&c.getRawLabel().globalId;d&&a.highlightElement(d)}}function i(b){if(b&&b.data){var c=(b.data.domNode,b.data.treeNode),d=c&&c.getRawLabel().globalId;if(d){var e="$auraTemp = $A.getCmp('"+d+"'); undefined;";chrome.devtools.inspectedWindow.eval(e),a.updateComponentView(d),a.showSidebar()}}}function k(a){if(a&&a.data){var b=(a.data.domNode,a.data.treeNode),c=b&&b.getRawLabel().globalId;if(c){var d="$auraTemp = $A.getCmp('"+c+"'); undefined;";chrome.devtools.inspectedWindow.eval(d)}}}function l(b,c){for(var d=void 0,e=[],g=b.length,h=g,i=0;i<g;i++)if("dom"in(d=b[i])){var j=new f.TreeNode(d.dom,"");m(d.components.map(a.jsonParse),j,function(a){e.push(a),0==--h&&c(e)})}else{var k=new f.TreeNode;m(d.components.map(a.jsonParse),k,function(a){e.push(a.getChildren()[0]),0==--h&&c(e)})}}function m(b,c,d){function e(a,b,c){function d(a,b,c){var d=a.globalId;if(n.has(d))return c(b);var f=m(a);if(l(a)&&!a.expressions.value&&i(a.attributes.value))return void g(a,function(a){e(a,f,function(a){b.addChild(f.getChildren()),c(a)})});b.addChild(f),n.add(d),g(a,function(a){e(a,f,c)})}if(Array.isArray(a)){var f=a.length,h=0;if(!f)return c(b);for(var j=0;j<f;j++)d(a[j],b,function(a){if(++h===f)return c(b)})}else d(a,b,c)}function g(a,b){var c=a.attributes.body,d=(a.globalId,[]);if(b=b||function(){},c)h(c[a.supers?a.supers.reverse()[0]:a.globalId],function(a){b(k(a))});else if(l(a)&&i(a.attributes.value)){var e=Array.isArray(a.attributes.value)?a.attributes.value:[a.attributes.value];h(e,function(a){b(k(a))})}else b(d)}function h(b,c){var d=[],e=0,f=b&&b.length;if(!f)return c([]);a.getComponents(b,function(a){for(var b=0;b<a.length;b++)d[b]=a[b],++e===f&&c(d)})}function i(a){if(!Array.isArray(a))return j.default.isComponentId(a);for(var b=0;b<a.length;b++)if(!j.default.isComponentId(a[b]))return!1;return!0}function k(a){for(var b=[],c=0,d=a.length;c<d;c++)Array.isArray(a[c])?b=b.concat(k(a[c])):b.push(a[c]);return b}function l(a){return a&&"markup://aura:expression"===a.descriptor}function m(a){if(!a)return null;var b={descriptor:a.descriptor,globalId:a.globalId||"",attributes:{}};if(a.localId&&(b.attributes["aura:id"]=a.localId),a.attributes)for(var c in a.attributes)a.attributes.hasOwnProperty(c)&&("body"===c||(a.expressions&&a.expressions.hasOwnProperty(c)?b.attributes[c]=a.expressions[c]:b.attributes[c]=a.attributes[c]));return l(a)&&(b.attributes.expression=a.expressions.value),f.TreeNode.parse(b)}var n=new Set;e(b,c,d)}var n,o,p={},q=!1,r=!0,s=null,t={refresh:chrome.i18n.getMessage("menu_refresh"),expandall:chrome.i18n.getMessage("componenttree_menu_expandall"),showids:chrome.i18n.getMessage("componenttree_menu_showids")},u='\n        <div class="grid grid-columns scroll-wrapper">\n          <menu type="toolbar" class="flex no-flex">\n              <li>\n                <button id="refresh-button" class="refresh-status-bar-item status-bar-item" title="'+t.refresh+'">\n                  <div class="glyph toolbar-button-theme"></div>\n                  <div class="glyph shadow"></div>\n                </button>\n              </li>\n              <li>\n                <button id="expandall-button" class="text-button">\n                  <span>'+t.expandall+'</span>\n                </button>\n              </li>\n              <li class="divider"></li>\n              <li><input type="checkbox" id="showglobalids-checkbox"><label for="showglobalids-checkbox">'+t.showids+'</label></li>\n          </menu>\n          <div class="flex scroll">\n            <div class="component-tree source-code" id="tree"></div>\n          </div>\n        </di>\n    ';this.init=function(j){j.innerHTML=u,n=j.querySelector("#tree"),o=new f.AuraInspectorTreeView(n),o.attach("onhoverout",e.bind(this)),o.attach("onhover",g.bind(this)),o.attach("onselect",i.bind(this)),o.attach("ondblselect",k.bind(this)),j.querySelector("#refresh-button").addEventListener("click",b.bind(this)),j.querySelector("#expandall-button").addEventListener("click",c.bind(this)),j.querySelector("#showglobalids-checkbox").addEventListener("change",d.bind(this)),h.default.getAll({showGlobalIds:!1},function(a){j.querySelector("#showglobalids-checkbox").checked=a.showGlobalIds}),a.subscribe("AuraInspector:ShowComponentInTree",function(b){o.isRendered()?(o.selectById(b),a.updateComponentView(b),a.showSidebar()):s=b})},this.setData=function(a){a==p&&JSON.stringify(a)==JSON.stringify(p)||(q=!0,p=a,this.render())},this.render=function(){if(r)return r=!1,this.refresh();if(q)try{l(p,function(b){o.clearChildren(),o.addChildren(b),o.render({collapsable:!0,selectedNodeId:s}),q=!1,s&&(a.updateComponentView(s),a.showSidebar()),a.hideLoading()})}catch(a){alert([a.message,a.stack])}},this.refresh=function(){a.showLoading(),a.getRootComponents(function(a){this.setData(a)}.bind(this))}}b.__esModule=!0,b.default=e;var f=c(12),g=c(13),h=d(g),i=c(3),j=d(i)},function(a,b,c){"use strict";function d(a,b){var c=[],d=null;this.addChild=function(a){Array.isArray(a)?c=c.concat(a):c.push(a)},this.getId=function(){return b},this.getChildren=function(){return c},this.getLabel=function(){return this.getFormatter()?this.getFormatter()(this.getRawLabel()):this.getRawLabel()},this.getRawLabel=function(){return a},this.hasChildren=function(){return c.length>0},this.hasFormatter=function(){return!!d},this.getFormatter=function(){return d},this.setFormatter=function(a){d=a},this.toString=function(){return JSON.stringify(a)+" ["+this.getLabel()+"]"}}function e(a){function b(a){a.target==a.srcElement&&this.notify("onhoverout",{domNode:a.target})}function c(a){for(var b=a.target;b&&b.parentNode&&!b.classList.contains("tree-view-node");)b=b.parentNode;if(b&&b.parentNode&&b.classList.contains("tree-view-node")){var c=b.parentNode;this.notify("onhover",{domNode:c,treeNode:o.get(c)})}}function d(a){var b=a.target;for(h(a);b&&b.parentNode;){if(b.classList.contains("tree-view-node")){var c=b.parentNode;return j(c),void this.notify("onselect",{domNode:c,treeNode:o.get(c)})}b=b.parentNode}}function e(a){for(var b=a.target;b&&b.parentNode&&!b.classList.contains("tree-view-node");)b=b.parentNode;if(b&&b.parentNode&&b.classList.contains("tree-view-node")){var c=b.parentNode;j(c),c.classList.contains("tree-view-parent")&&c.classList.toggle("tree-view-expanded"),this.notify("ondblselect",{domNode:c,treeNode:o.get(c)})}}function g(a,b){b=b||1;var c=document.createElement("span");c.className="tree-view-node";var d=document.createElement("li");d.appendChild(c);var e=b<r,h=a.getLabel();if(a.hasFormatter()?h&&"object"===(void 0===h?"undefined":f(h))&&"nodeType"in h?c.appendChild(h):c.innerHTML=h:c.appendChild(document.createTextNode(h)),b===r&&a.getChildren().length<=s&&(b--,e=!0),k.set(a.getId(),d),a.hasChildren()){d.classList.add("tree-view-parent"),e&&d.classList.add("tree-view-expanded");for(var i=document.createElement("ul"),j=a.getChildren(),l=0;l<j.length;l++)j[l]&&i.appendChild(g(j[l],b+1));d.appendChild(i)}return o.set(d,a),d}function h(a){a.target.classList.contains("tree-view-parent")&&a.offsetX<14&&a.offsetY<14&&a.target.classList.toggle("tree-view-expanded")}function i(a){a.classList.contains("tree-view-expanded")||a.classList.add("tree-view-expanded")}function j(a){var b=l.querySelector("li.tree-node-selected");b&&b.classList.remove("tree-node-selected"),a&&a.classList.add("tree-node-selected")}var k,l,m=[],n=new Map,o=new WeakMap,p=!1,q=!1,r=3,s=2;this.addChild=function(a){m.push(a)},this.addChildren=function(a){Array.isArray(a)||(a=[a]),m=m.concat(a)},this.getChildren=function(){return m},this.clearChildren=function(){m=[]},this.render=function(f){l?l.innerHTML="":(l=document.createElement("ul"),l.className="tree-view",l.addEventListener("mouseout",b.bind(this)),l.addEventListener("mouseover",c.bind(this)),l.addEventListener("click",d.bind(this)),l.addEventListener("dblclick",e.bind(this))),a.innerHTML="",k=new Map,f=Object.assign({collapsable:!1,selectedNodeId:void 0},f);try{for(var h=0;h<m.length;h++)m[h]&&l.appendChild(g(m[h]));a.appendChild(l)}catch(a){alert([a.message,a.stack])}!0===f.collapsable&&(l.classList.add("collapsable"),q=!0),p=!0,f.hasOwnProperty("selectedNodeId")&&this.selectById(f.selectedNodeId)},this.attach=function(a,b){n.has(a)||n.set(a,new Set),n.get(a).add(b)},this.notify=function(a,b){if(n.has(a)){var c={data:b};n.get(a).forEach(function(a){a(c)})}},this.expandAll=function(){for(var a=l.querySelectorAll("li.tree-view-parent"),b=0,c=a.length;b<c;b++)i(a[b])},this.selectById=function(a){if(this.isRendered()&&k.has(a)){var b=k.get(a);if(b){for(var c=b;c&&!c.matches("ul.tree-view");)"LI"===c.tagName&&i(c),c=c.parentNode;j(b),this.notify("onselect",{domNode:b,treeNode:o.get(b)})}}},this.isRendered=function(){return p},this.isCollapsable=function(){return q}}b.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.TreeNode=d,b.AuraInspectorTreeView=e;var g=c(13),h=function(a){return a&&a.__esModule?a:{default:a}}(g);!function(){function a(a,b){if("string"!=typeof a)throw new Error("String$format(str, o), you pass an invalid value as the str parameter, must be of type string.");return a.replace(/\{([^{}]*)\}/g,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a})}function b(a){return"string"!=typeof a?a:a.replace("<","&lt;").replace(">","&gt;")}function c(a){return"string"==typeof a&&(a.startsWith("function (cmp, fn) { return ")||a.startsWith("function (a,b){return"))}function e(a){var b="function (cmp, fn) { return ";return a.startsWith(b)?a="{! "+a.substr(b.length,a.length-b.length-1).replace(/fn\.([a-zA-Z]+)\(/g,"$1(").replace(/cmp\.get\(\"([a-zA-Z\._]+)\"\)/g,"$1").trim()+" }":a.startsWith("function (a,b){return")&&(a="{! "+a.substr("function (a,b){return".length,a.length-"function (a,b){return".length-1).replace(/b\.([a-zA-Z]+)\(/g,"$1(").replace(/a\.get\(\"([a-zA-Z\._]+)\"\)/g,"$1").trim()+" }"),a}var g={ComponentDefFormatter:function(a){var b=document.createTextNode("[[ComponentDef]]"),c=g.ComponentFormatter(a);return c.insertBefore(b,c.firstElementChild),c},ComponentFormatter:function(a){a.tagName=a.tagName.split("://")[1]||a.tagName;var b=document.createDocumentFragment(),d=document.createElement("span");d.className="component-tagname",d.appendChild(document.createTextNode("<"+a.tagName)),b.appendChild(d);var g={showGlobalIds:!1};if(h.default.getAll(g,function(c){if(c.showGlobalIds){var d=document.createElement("span");d.className="component-attribute",d.appendChild(document.createTextNode(" globalId")),b.appendChild(d),b.appendChild(document.createTextNode('="')),b.appendChild(document.createTextNode(a.globalId)),b.appendChild(document.createTextNode('"'))}}),a.attributes){var i,j,k;for(var l in a.attributes)"body"!=l&&(i=a.attributes[l],k=document.createElement("span"),k.className="component-attribute",k.appendChild(document.createTextNode(l)),b.appendChild(document.createTextNode(" ")),b.appendChild(k),b.appendChild(document.createTextNode('="')),i&&Array.isArray(i)?i.lenght?(b.appendChild(document.createTextNode("[")),j=document.createElement("i"),j.className="component-array-length",j.appendChild(document.createTextNode(count.length)),b.appendChild(j),b.appendChild(document.createTextNode("]"))):b.appendChild(document.createTextNode("[]")):i&&"object"===(void 0===i?"undefined":f(i))?b.appendChild(document.createTextNode(Object.keys(i).length?"{...}":"{}")):c(i)?b.appendChild(document.createTextNode(e(i))):b.appendChild(document.createTextNode(i+"")),b.appendChild(document.createTextNode('"')))}return b.appendChild(document.createTextNode(">")),b},HtmlComponentFormatter:function(d){d.tagName=d.attributes.tag,delete d.attributes.tag;var f=['<span class="component-tagname">&lt;{tagName}</span>'],g={showGlobalIds:!1};if(h.default.getAll(g,function(a){a.showGlobalIds&&f.push(' <span class="component-attribute">globalId</span>="{globalId}"')}),d.attributes["aura:id"]){f.push(' <span class="component-attribute">aura:id</span>="'+d.attributes["aura:id"]+'"');for(var i in d.attributes.HTMLAttributes)c(d.attributes.HTMLAttributes[i])?f.push(' <span class="component-attribute">'+i+'</span>="'+b(e(d.attributes.HTMLAttributes[i]))+'"'):f.push(' <span class="component-attribute">'+i+'</span>="'+b(d.attributes.HTMLAttributes[i])+'"')}return f.push("&gt;"),a(f.join(""),d)},TextComponentFormatter:function(a){var b=a.attributes.value;return b=b&&0!=b.trim().length?"&quot;"+b+"&quot;":"&quot;&quot;"},ExpressionComponentFormatter:function(a){var b=a.attributes.expression;return b?c(b)?e(b):b:a.attributes.value},KeyValueFormatter:function(a){var b=a.value,c=a.key;if(b&&"string"==typeof b&&0===b.toString().indexOf("function (")||"function"==typeof b)b=g.FunctionFormatter(b);else if("string"==typeof b&&0===b.trim().length)b='"'+b+'"';else if(b&&Array.isArray(b))if(b.length){var d=document.createElement("span");d.appendChild(document.createTextNode("["));var e=document.createElement("i");e.className="component-array-length",e.appendChild(document.createTextNode(b.length)),d.appendChild(e),d.appendChild(document.createTextNode("]")),b=d}else b="[]";else!b||"object"!==(void 0===b?"undefined":f(b))||"nodeType"in b||(b=Object.keys(b).length?"{...}":"{}");var h=document.createElement("span");h.className="component-property",h.appendChild(document.createTextNode(c));var i=document.createElement("span");i.className="component-property-value",i.appendChild(b&&b.nodeType?b:document.createTextNode(b+""));var j=document.createDocumentFragment();return j.appendChild(h),j.appendChild(document.createTextNode(":")),j.appendChild(i),j},PropertyFormatter:function(a){return'<span class="component-property">'+a+"</span>"},FunctionFormatter:function(a){var b=document.createElement("span");return b.appendChild(document.createTextNode("function(){...}")),b.setAttribute("title",a+""),b},FacetFormatter:function(a){var b=document.element("span");b.className="component-property",b.appendChild(document.createTextNode(a.property));var c=g.ComponentFormatter(a);return c.insertBefore(document.createTextNode(": "),c.firstElementChild),c.insertBefore(b,c.firstElementChild),c},Header:function(a){return"<h3>"+a+"</h3>"},DescriptorFormatter:function(a){return a.replace(/markup:\/\/(\w+):(\w+)/,'<span class="component-prefix">$1</span>:<span class="component-tagname">$2</span>')},GlobalIdFormatter:function(a){return"<aurainspector-auracomponent globalId='"+a+"'></aurainspector-auracomponent>"},ControllerReference:function(a){return"object"===(void 0===a?"undefined":f(a))?'<aurainspector-controllerreference expression="'+a.expression+'" component="'+a.component+'"></aurainspector-controllerreference>':"<aurainspector-controllerreference>"+a+"</aurainspector-controllerreference>"}};d.create=function(a,b,c){var e=new d(a,b);switch(c){case"aura:html":e.setFormatter(g.HtmlComponentFormatter);break;case"aura:text":e.setFormatter(g.TextComponentFormatter);break;case"aura:expression":e.setFormatter(g.ExpressionComponentFormatter);break;case"component":e.setFormatter(g.ComponentFormatter);break;case"componentdef":e.setFormatter(g.ComponentDefFormatter);break;case"header":e.setFormatter(g.Header);break;case"keyvalue":e.setFormatter(g.KeyValueFormatter);break;case"descriptor":e.setFormatter(g.DescriptorFormatter);break;case"globalId":e.setFormatter(g.GlobalIdFormatter);break;case"controllerref":e.setFormatter(g.ControllerReference);break;case"property":e.setFormatter(g.PropertyFormatter)}return e},d.parse=function(a){if(!a)return new d;if("string"==typeof a&&a.startsWith("☺"))return d.create(a.substr(1),a,"globalId");if("string"==typeof a&&a.startsWith("❄"))return d.create(a.substr(1),a,"controllerref");var b=a.globalId||"",c={globalId:b,attributes:{}};if(a.localId&&(c.attributes["aura:id"]=a.localId),a.attributes)for(var e in a.attributes)a.attributes.hasOwnProperty(e)&&(a.expressions&&a.expressions.hasOwnProperty(e)?c.attributes[e]=a.expressions[e]:c.attributes[e]=a.attributes[e]);var f;return"markup://aura:html"===a.descriptor?(c.tagName=a.descriptor,f=d.create(c,b,"aura:html")):"markup://aura:text"===a.descriptor?(c.tagName=a.descriptor,f=d.create(c,b,"aura:text")):"markup://aura:expression"===a.descriptor?(c.tagName=a.descriptor,f=d.create(c,b,"aura:expression")):a.globalId?(c.tagName=a.descriptor,f=d.create(c,b,"component")):a.componentDef&&a.componentDef.descriptor&&(c.tagName=a.componentDef.descriptor,f=d.create(c,b,"componentdef")),f}}()},function(a,b){"use strict";function c(a){return JSON.parse(JSON.stringify(a))}function d(a,b){try{localStorage.setItem(a,JSON.stringify(b))}catch(a){return!1}return!0}b.__esModule=!0;var e={getAll:function(a,b){a=a||{};var d=!1;for(var e in a)g.hasOwnProperty(e)||(g[e]=a[e],d=!0);d&&(h=c(g)),"function"==typeof b&&b(h)},set:function(a,b,e){g[a]!==b&&(g[a]=b,d("AuraInspectorOptions",g),h=c(g)),"function"==typeof e&&e(h)}};b.default=e;var f=function(a){var b;try{b=localStorage.getItem("AuraInspectorOptions")}catch(a){}return b}()||"{}",g=JSON.parse(f),h=c(g)},function(a,b,c){"use strict";function d(a){function b(b){if(b&&b.data){var c=(b.data.domNode,b.data.treeNode),d=c.getRawLabel();d&&"Descriptor"===d.key&&a.publish("AuraInspector:OnDescriptorSelect",d.value)}}function c(a){var b,c;if(l.addChildren(j(a)),a.attributeValueProvider==a.facetValueProvider){var d=f.TreeNode.create(chrome.i18n.getMessage("componentview_avpfvp"),"attributeValueProvider","property");l.addChild(d),b=h.default.getCleanId("string"==typeof a.attributeValueProvider?a.attributeValueProvider:a.attributeValueProvider.globalId),d.addChild(f.TreeNode.create(b,"attributeValueProvider_"+a.globalId,"globalId"))}else{var d=f.TreeNode.create(chrome.i18n.getMessage("componentview_avp"),"attributeValueProvider","property");l.addChild(d),b=h.default.getCleanId("string"==typeof a.attributeValueProvider?a.attributeValueProvider:a.attributeValueProvider.globalId),d.addChild(f.TreeNode.create(b,"attributeValueProvider_"+a.globalId,"globalId","property")),"passthrough"===a.attributeValueProvider.$type$&&a.attributeValueProvider.values&&i(a.attributeValueProvider.values,d);var e=f.TreeNode.create(chrome.i18n.getMessage("componentview_fvp"),"facetValueProvider","property");l.addChild(e),b=h.default.getCleanId("string"==typeof a.facetValueProvider?a.facetValueProvider:a.facetValueProvider.globalId),e.addChild(f.TreeNode.create(b,"facetValueProvider_"+a.globalId,"globalId","property")),"passthrough"===a.facetValueProvider.$type$&&a.facetValueProvider.values&&i(a.facetValueProvider.values,e)}var k=a.attributes.body||{};if(a.isConcrete)l.addChild(f.TreeNode.create(chrome.i18n.getMessage("componentview_attributes"),"Attributes","header")),a.attributes.body=k[a.globalId]||[],c=f.TreeNode.create(),g(a,c),l.addChildren(c.getChildren());else{l.addChild(f.TreeNode.create(chrome.i18n.getMessage("componentview_attributes"),"Attributes","header"));var m=k[a.globalId]||[];c=f.TreeNode.create({key:"body",value:m},"","keyvalue"),i(m,c),l.addChild(c)}if(a.model&&(l.addChild(f.TreeNode.create(chrome.i18n.getMessage("componentview_model"),"Model","header")),c=f.TreeNode.create(),i(a.model,c),l.addChildren(c.getChildren())),a.handlers&&Object.keys(a.handlers).length){l.addChild(f.TreeNode.create(chrome.i18n.getMessage("componentview_handlers"),"Handlers","header"));var n,a,o,p=a.handlers;for(var q in p){a=p[q],n=f.TreeNode.create({key:q,value:a},"","keyvalue");for(var r=0;r<a.length;r++)o={expression:a[r].expression,component:h.default.getCleanId(a[r].valueProvider)},n.addChild(f.TreeNode.create(o,"","controllerref"));l.addChild(n)}}}function d(b,e){b.supers&&b.supers.length?a.getComponent(b.supers[0],function(a){l.addChild(f.TreeNode.create("[["+chrome.i18n.getMessage("componentview_super")+"]]","Super"+a.globalId,"header")),c(a),d(a,function(){e&&e()})},{attributes:!1,body:!0,elementCount:!1,model:!0,valueProviders:!0,handlers:!0}):e&&e()}function g(a,b){var c,d,g,j=a.attributes,k=a.expressions;for(var l in j)if(d=j[l],g=new h.default(d),k.hasOwnProperty(l))c=f.TreeNode.create({key:l,value:k[l]},"","keyvalue"),"object"===(void 0===d?"undefined":e(d))?i(j[l],c):g.isComponentId()?c.addChild(f.TreeNode.create(g.getCleanId(),b.getId()+"_"+l,"globalId")):g.isActionId()?c.addChild(f.TreeNode.create(g.getCleanId(),b.getId()+"_"+l,"controllerref")):"string"==typeof d&&0===d.trim().length?c.addChild(f.TreeNode.create('""',b.getId()+"_"+l)):c.addChild(f.TreeNode.create(d,b.getId()+"_"+l)),b.addChild(c);else if(j.hasOwnProperty(l)){if("object"===(void 0===d?"undefined":e(d)))if("body"===l){c=f.TreeNode.create({key:"body",value:d},"","keyvalue");for(var m=0;m<d.length;m++)c.addChild(f.TreeNode.parse(d[m]))}else j[l]&&("descriptor"in d||"componentDef"in d)?c=f.TreeNode.parse(d):(c=f.TreeNode.create({key:l,value:d},b.getId()+"_"+l,"keyvalue"),i(d,c));else c=g.isComponentId()?f.TreeNode.create(g.getCleanId(),b.getId()+"_"+l,"globalId"):f.TreeNode.create({key:l,value:d},b.getId()+"_"+l,"keyvalue");b.addChild(c)}return b}function i(a,b){var c,d;for(var g in a)if(a.hasOwnProperty(g)){if(d=a[g],"object"===(void 0===d?"undefined":e(d)))if("body"===g){c=f.TreeNode.create({key:"body",value:d},"","keyvalue");for(var j=0;j<d.length;j++)c.addChild(f.TreeNode.parse(d[j]))}else a[g]&&("descriptor"in d||"componentDef"in d)?c=f.TreeNode.parse(d):(c=f.TreeNode.create({key:g,value:d},b.getId()+"_"+g,"keyvalue"),i(d,c));else c=h.default.isComponentId(d)?f.TreeNode.create(h.default.getCleanId(d),b.getId()+"_"+g,"globalId"):f.TreeNode.create({key:g,value:d},b.getId()+"_"+g,"keyvalue");b.addChild(c)}return b}function j(a){var b=a.isConcrete?m:n,c=[];for(var d in a)b.hasOwnProperty(d)&&c.push(f.TreeNode.create({key:b[d],value:a[d]},d,"keyvalue"));return c}var k,l,m={globalId:chrome.i18n.getMessage("componentview_globalid"),rendered:chrome.i18n.getMessage("componentview_isrendered"),valid:chrome.i18n.getMessage("componentview_isvalid"),localId:"aura:id",descriptor:chrome.i18n.getMessage("componentview_descriptor"),elementCount:chrome.i18n.getMessage("componentview_elements"),rerender_count:chrome.i18n.getMessage("componentview_rerendered")},n={globalId:chrome.i18n.getMessage("componentview_globalid"),localId:"aura:id",descriptor:chrome.i18n.getMessage("componentview_descriptor")},o=null,p=!1;this.init=function(a){k=document.createElement("DIV"),k.className="component-view",k.id="component-view",a.appendChild(k),a.classList.add("sidebar"),l=new f.AuraInspectorTreeView(k),l.attach("onselect",b.bind(this))},this.setData=function(a){p=!0,o=a,this.render()},this.render=function(){p&&o&&(k.innerHTML="",l.clearChildren(),a.getComponent(o,function(a){c(a),d(a,function(){l.render()})},{body:!0,elementCount:!0,model:!0,valueProviders:!0,handlers:!0}))}}b.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.default=d;var f=c(12),g=c(3),h=function(a){return a&&a.__esModule?a:{default:a}}(g)},function(a,b){"use strict";function c(a){var b=null,c=!1,d={record:chrome.i18n.getMessage("menu_record"),clear:chrome.i18n.getMessage("menu_clear"),showcollected:chrome.i18n.getMessage("performance_menu_showcollected")},e='\n\t\t<div class="aura-panel panel-status-bar">\n\t\t\t<button class="record-profile-status-bar-item status-bar-item" title="'+d.record+'">\n\t\t\t\t<div class="glyph"></div><div class="glyph shadow"></div>\n\t\t\t</button>\n\t\t\t<button class="clear-status-bar-item status-bar-item" title="'+d.clear+'">\n\t\t\t\t<div class="glyph"></div><div class="glyph shadow"></div>\n\t\t\t</button>\n\t\t\t<button class="timeline-frames-status-bar-item status-bar-item" title="'+d.showcollected+'">\n\t\t\t\t<div class="glyph"></div><div class="glyph shadow"></div>\n\t\t\t</button>\n\t\t\t<div class="status-bar-item"></div>\n\t\t</div>\n\t\t<div class="flamechart" id="flamechart"></div>';this.init=function(a){a.innerHTML=e,a.classList.add("perf-tab")},this.render=function(){c||(chrome.devtools.inspectedWindow.eval("$A.PerfDevTools.getComponentCreationProfile()",function(a,c){b=new AuraPerfPanel(a,"flamechart")}),c=!0),a.hideSidebar()}}b.__esModule=!0,b.default=c},function(a,b){"use strict";function c(a){function b(a){if(a&&a.data){var b=(a.data.domNode,a.data.treeNode),c=b.getId();c&&g(c)}}function c(a){if(a&&a.data){var b=(a.data.domNode,a.data.treeNode),c=b.getId();if(c){var d;d=n(c)?"$auraTemp = $A.componentService.getDef('"+c+"'); console.log('$auraTemp = ', $auraTemp);":"$auraTemp = $A.eventService.getDef('"+c+"'); console.log('$auraTemp = ', $auraTemp);",chrome.devtools.inspectedWindow.eval(d)}}}function d(b){t=!0,this.render(),a.addLogMessage("Refreshing Component and Event Definitions List")}function e(b,c){if(w.has(b))return void c(w.get(b));var d;n(b)?d="$A.util.json.encode($A.componentService.getDef('"+b+"'));":o(b)&&(d="$A.util.json.encode($A.eventService.getDef('"+b+"'));"),chrome.devtools.inspectedWindow.eval(d,function(d,e){if(e&&e.isException)return a.addErrorMessage(e.value),void alert(e.value);d&&(d=JSON.parse(d),w.set(b,d)),c(d)})}function f(a){var b=["var descriptors = [","    $A.componentService.getRegisteredComponentDescriptors(),","    $A.eventService.getRegisteredEvents()","];","$A.util.json.encode(descriptors);"].join("");chrome.devtools.inspectedWindow.eval(b,a)}function g(a){e(a,function(b){n(a)?i(a,b):h(a,b)})}function h(a,b){var c,d=[];if(b&&b.$attributeDefs$){var e=l(a);q.innerHTML="\n            <header>\n                <h1>"+e+"</h1>\n                <h3>"+b.type+' Event</h3>\n            </header>\n            <section>\n                <h2>Inheritance</h2>\n                <div id="event-definition-inheritance" class="definition-inheritance"></div>\n            </section>\n            <section>\n                <h2>Parameters</h2>\n                <div id="event-definition-parameters"></div>\n            </section>\n        ';var f=b.$attributeDefs$;d=[];for(var g in f)c=f[g],d.push([g,c.type,c.default||""]);document.getElementById("event-definition-parameters").appendChild(j(["Parameter Name","Type","Default Value"],d)),d=[],c=b;do{d.push("<ul><li>"+l(c.$descriptor$.$qualifiedName$))}while(c=c.$superDef$);d.push(new Array(d.length+1).join("</li></ul>")),document.getElementById("event-definition-inheritance").innerHTML=d.join("")}}function i(a,b){var c,d=[];if(b&&b.$attributeDefs$){var e=l(a);q.innerHTML="\n            <header>\n                <h1>"+e+'</h1>\n            </header>\n            <section>\n                <h2>Inheritance</h2>\n                <div id="component-definition-inheritance" class="definition-inheritance"></div>\n            </section>\n            <section>\n                <h2>Implements</h2>\n                <div id="component-definition-interfaces"></div>\n            </section>\n            <section>\n                <h2>Attributes</h2>\n                <div id="component-definition-attributes"></div>\n            </section>\n            <section>\n                <h2>Actions</h2>\n                <div id="component-definition-actions"></div>\n            </section>\n            <section>\n                <h2>Helper</h2>\n                <div id="component-definition-helper"></div>\n            </section>\n            <section>\n                <h2>Event Handlers</h2>\n                <div id="component-definition-eventhandlers"></div>\n            </section>\n            <section>\n                <h2>Value Handlers</h2>\n                <div id="component-definition-valuehandlers"></div>\n            </section>\n\n        ';var f=b.$attributeDefs$.$values$;d=[];for(var g in f)c=f[g],d.push([g,c.required,c.$typeDefDescriptor$,c.defaultValue&&JSON.stringify(c.defaultValue)||""]);var h=j(["Attribute Name","Required","Type","Default Value"],d);document.getElementById("component-definition-attributes").appendChild(h),d=[],c=b;do{d.push("<ul><li>"+l(c.$descriptor$.$qualifiedName$))}while(c=c.$superDef$);d.push(new Array(d.length+1).join("</li></ul>")),document.getElementById("component-definition-inheritance").innerHTML=d.join("");var i=Object.keys(b.$interfaces$||{});if(i.length){var k=i.map(l).join("</li><li>"),m="<ul><li>"+k+"</li></ul>";document.getElementById("component-definition-interfaces").innerHTML=m}var n=b.$controllerDef$&&b.$controllerDef$.$actionDefs$||{};d=[];for(var o in n)n.hasOwnProperty(o)&&(c=n[o],d.push(["{!c."+o+"}",c.$actionType$,c.$caboose$,c.background,Object.keys(c.$paramDefs$)]));var p=j(["Action","Type","Is Caboose","Is Background","Parameters"],d);document.getElementById("component-definition-actions").appendChild(p);var r=b.$helperDef$||{};d=[];for(var s in r)r.hasOwnProperty(s)&&d.push([s,r[s]]);var t=j(["Method","Function"],d);document.getElementById("component-definition-helper").appendChild(t);var u=b.$appHandlerDefs$||[];d=[];for(var v=0;v<u.length;v++)d.push([u[v].action,l(u[v].eventDef.$descriptor$.$qualifiedName$)]);var w=j(["Action","Event"],d);document.getElementById("component-definition-eventhandlers").appendChild(w);var x=b.$valueHandlerDefs$||[];d=[];for(var v=0;v<x.length;v++)d.push([x[v].name,x[v].action,x[v].value]);var y=j(["Type","Action","Value"],d);document.getElementById("component-definition-valuehandlers").appendChild(y)}}function j(a,b){for(var c,d=document.createDocumentFragment(),e=a.length,f=document.createElement("table"),g=document.createElement("thead"),h=document.createElement("tbody"),i=document.createElement("tr"),j=0;j<e;j++)c=document.createElement("th"),c.appendChild(document.createTextNode(a[j])),i.appendChild(c);g.appendChild(i);for(var k,j=0;j<b.length;j++){i=document.createElement("tr");for(var l=0;l<e;l++)k=document.createElement("td"),k.innerHTML=b[j][l],i.appendChild(k);h.appendChild(i)}return f.appendChild(g),f.appendChild(h),d.appendChild(f),d}function k(a,b){a=a.sort(m),b=b.sort(m);for(var c,d=new TreeNode("Component Definitions ["+a.length+"]"),e=0,f=a.length;e<f;e++)c=TreeNode.create(a[e],a[e],"descriptor"),d.addChild(c),x.set(a[e],"component");for(var g=new TreeNode("Event Definitions ["+b.length+"]"),e=0,f=b.length;e<f;e++)c=TreeNode.create(b[e],b[e],"descriptor"),g.addChild(c),x.set(b[e],"event");return[d,g]}function l(a){return a.replace(/(?:markup:\/\/)*(\w+):(\w+)/,'<span class="component-prefix">$1</span>:<span class="component-tagname">$2</span>')}function m(a,b){return a===b?0:a>b?1:-1}function n(a){return"component"===x.get(a)}function o(a){return"event"===x.get(a)}var p,q,r,s,t=!0,u=[],v=[],w=new Map,x=new Map,y=['<div class="tab-body-settings">','    <button id="refresh-button"><span>Refresh</span></button>',"</div>"].join("");this.init=function(a){a.innerHTML=y,r=document.createElement("div"),r.className="definitions",a.appendChild(r),p=document.createElement("div"),p.className=p.id="definitions-list",r.appendChild(p),q=document.createElement("section"),q.className=q.id="definitions-detail",r.appendChild(q),a.querySelector("#refresh-button").addEventListener("click",d.bind(this)),s=new AuraInspectorTreeView(p),s.attach("onselect",b.bind(this)),s.attach("ondblselect",c.bind(this))},this.render=function(){a.hideSidebar(),t&&(t=!1,f(function(b,c){if(c&&c.isException)return a.addErrorMessage(c.value),void alert(c.value);if(b){b=JSON.parse(b),u=b[0],v=b[1];var d=k(u,v);s.clearChildren(),s.addChildren(d),s.render({collapsable:!0})}}))},this.getDef=function(a,b){e(a,b)}}b.__esModule=!0,b.default=c},function(a,b){"use strict";function c(a){function b(){var a,b,c={};for(var d in f){b=f[d],a={},a.Adapter=b.name;var e;a.sizeEstimate="",void 0!==b.size&&(e=(b.size/b.maxSize*100).toFixed(0),a.sizeEstimate=b.size.toFixed(1)+" KB ("+e+"% of "+b.maxSize.toFixed(0)+" KB)"),
a.Version=b.version,a.Items=b.all||{},c[d]=a}var g=document.createElement("aurainspector-json");g.setAttribute("expandTo",2),g.textContent=JSON.stringify(c);var h=document.getElementById("storage-viewer");h.removeChildren(),h.appendChild(g)}function c(a){this.setData(a.id,JSON.parse(a.data)),this.render()}function d(a){this.removeData(a.storageKey)}function e(a){this.refresh()}var f={},g=!0,h=!0;this.panelId="storage";var i={refresh:chrome.i18n.getMessage("menu_refresh"),kb:chrome.i18n.getMessage("kb")},j='\n        <menu type="toolbar">\n        <li>\n          <button id="refresh-button" class="refresh-status-bar-item status-bar-item" title="'+i.refresh+'">\n            <div class="glyph toolbar-button-theme"></div>\n            <div class="glyph shadow"></div>\n          </button>\n        </li>\n        </menu>\n        <div class="storage-viewer" id="storage-viewer"/>\n    ';this.init=function(b){b.innerHTML=j,b.querySelector("#refresh-button").addEventListener("click",e.bind(this)),a.subscribe("AuraInspector:StorageData",c.bind(this)),a.subscribe("AuraInspector:RemoveStorageData",d.bind(this))},this.render=function(){g&&(g=!1,h?(h=!1,this.refresh()):b())},this.refresh=function(){this.clearData(),this.getStoresList(function(a){this.updateStores(a,function(){b(),g=!1})}.bind(this))},this.updateStores=function(a,b){var c,d=a&&a.length||0;if(!d)return void b();for(var e=[],f=0;f<d;f++){var g=a[f];e.push('\n                    var output = "o_'+g+'";\n                    if(!data["o_'+g+'"]) {data["o_'+g+'"] = {}};\n                    data["i_'+g+"\"] = $A.storageService.getStorage('"+g+"');\n\n                    // sync\n                    data[\"o_"+g+'"].name = data["i_'+g+'"].getName();\n                    data["o_'+g+'"].maxSize = data["i_'+g+'"].getMaxSize();\n                    data["o_'+g+'"].version = data["i_'+g+'"].getVersion();\n\n                    // async\n                    data["i_'+g+'"].getSize()\n                        .then(function(size) { if(!data["o_'+g+'"]) {data["o_'+g+'"] = {}} data["o_'+g+'"].size = size; }, function(err) { if(!data["o_'+g+'"]) {data["o_'+g+'"] = {}} data["o_'+g+'"].size = JSON.stringify(err); })\n                        .then(function() { return data["i_'+g+'"].getAll(); })\n                        .then(function(all) { if(!data["o_'+g+'"]) {data["o_'+g+'"] = {}} data["o_'+g+'"].all = all; }, function(err) { data["o_'+g+"\"].all = JSON.stringify(err); })\n                        // last then() is to post the results to aura inspector\n                        .then(function() { window.postMessage({action:'AuraInspector:publish', key: 'AuraInspector:StorageData', data:{ id:'"+g+"', data: JSON.stringify(data[\"o_"+g+'"])} }, window.location.href); });\n\n            ')}var h=e.join("\n"),c="\n            {\n                var data = {};\n                "+h+";\n                data;\n            }\n        ";chrome.devtools.inspectedWindow.eval(c,function(a,c,d){d&&console.error(d),b()}.bind(this,g))},this.getStoresList=function(a){var b=[];chrome.devtools.inspectedWindow.eval("Object.keys($A.storageService.getStorages());",function(c,d){c&&(b=c.map(function(a){return a.replace("'","_")}),a&&a(b))})},this.setData=function(a,b){g=!0,f[a]=b},this.clearData=function(){g=!0,f={}},this.removeData=function(a){g=!0,a&&a.length>0&&a in f&&delete f[a],this.render()}}b.__esModule=!0,b.default=c},function(a,b){"use strict";function c(){function a(a){var b=document.createElement("table"),c=document.createElement("thead"),d=document.createElement("tbody");return b.appendChild(c),b.appendChild(d),a.appendChild(b),c.innerHTML='\n                        <th width="33%">'+h.context+'</th>\n                        <th width="5%">'+h.id+'</th>\n                        <th width="8%">'+h.duration+'</th>\n                        <th width="9%">'+h.starttime+'</th>\n                        <th width="45%" class="transactions-graph-timeline-header-row">'+h.timeline+'\n                            <div class ="trans-graph-time-marker-container" id = "timeline-marker-container">\n                                <div class="trans-graph-time-marker-timeline"></div>\n   \n                                <div class="trans-graph-time-marker1">\n                                    <div class="trans-graph-time-number-mark"><span class="timeline-number-text-1">0s</span></div>\n                                    <div class="trans-graph-time-marker-line"></div>\n                                </div>\n                           \n                                <div class="trans-graph-time-marker2">\n                                    <div class="trans-graph-time-number-mark"><span class="timeline-number-text-2">0s</span></div>\n                                    <div class="trans-graph-time-marker-line"></div>\n                                </div>\n                           \n                                <div class="trans-graph-time-marker3">\n                                    <div class="trans-graph-time-number-mark"><span class="timeline-number-text-3">0s</span></div>\n                                    <div class="trans-graph-time-marker-line"></div>\n                                </div>\n                           \n                                <div class="trans-graph-time-marker4">\n                                    <div class="trans-graph-time-number-mark"><span class="timeline-number-text-4">0s</span></div>\n                                    <div class="trans-graph-time-marker-line"></div>\n                                </div>\n                            </div>\n                            \n                        <br><br></th>\n            ',b}function b(a){var b=document.createElement("td");if(!a||1===a.length)return b;var d=document.createElement("div");d.className="transactions-graph-row";for(var e,f,g,h,i=0;i<a.length&&a[i+1];i++)o=Math.max(o,a[i+1]),h=o-n,e=document.createElement("div"),e.className="transactions-graph-row-block",f=(a[i]-n)/h*100,g=Math.max((a[i+1]-n)/h*100-f,.23),e.style.left=f+"%",e.style.width=g+"%",d.appendChild(e);return b.appendChild(d),b.setAttribute("title","[ "+a.map(c).join(" - ")+" ]"),b}function c(a){var b=a-n;return Math.round(b)+"ms"}function d(a){var b=a.srcElement;if("A"===b.tagName){var c=b.getAttribute("data-id"),d=b.getAttribute("data-row-type");this.notify("onitemclick",{id:c,type:d})}}function e(){var a={};return a.attach=function(b,c){a[b]||(a[b]=[]),a[b].push(c)},a.remove=function(b){(a[b]||a[a].length>0)&&(a[b]=[])},a.notify=function(b,c){if(a[b]&&a[b].length>0)for(var d=0;d<a[b].length;d++)a[b][d](c)},a}var f,g,h,i,j,k,l=[],m=0,n=0,o=0,p=!1;this.init=function(a){j="marks",h=a,k=new e("onitemclick")},this.render=function(b){if(!p){g=b;var c=a(g);c.addEventListener("click",d.bind(this)),f=c.querySelector("tbody"),p=!0}},this.getStartTime=function(){return i},this.setStartTime=function(a){i=a},this.setStartTimeOffset=function(a){a>0&&(m=a)},this.setStartTime=function(a){n=a},this.setEndTime=function(a){o=a},this.clear=function(){f&&(f.innerHTML="",l=[])},this.setColumns=function(a){},this.addRows=function(a){for(var b=0;b<a.length;b++)this.addRow(a[b])},this.addRow=function(a){for(var c,d,e=a.columns,g=5-e.length,h=document.createElement("tr"),i=0;i<e.length;i++)0==i?(d=document.createElement("a"),d.appendChild(document.createTextNode(e[i])),d.setAttribute("data-id",a.id),a.styles&&a.styles.row&&d.setAttribute("data-row-type",a.styles.row),c=document.createElement("td"),c.appendChild(d),h.appendChild(c),c.colSpan=g):(c=document.createElement("td"),c.appendChild(document.createTextNode(e[i])),h.appendChild(c));c=b(a.timeline),c.firstElementChild&&a.styles&&a.styles.timeline&&c.firstElementChild.classList.add(a.styles.timeline),h.appendChild(c),a.styles&&a.styles.row&&h.classList.add(a.styles.row),f.appendChild(h)},this.updateTimeMarkers=function(){if(g){var a=g.querySelector(".timeline-number-text-1"),b=g.querySelector(".timeline-number-text-2"),c=g.querySelector(".timeline-number-text-3"),d=g.querySelector(".timeline-number-text-4"),e=o||n,f=n,h=e-f,i=h/4;isNaN(h)&&(i=0,m===1/0&&(m=0)),a.textContent=Math.round(m)+"ms",b.textContent=Math.round(i+m)+"ms",c.textContent=Math.round(2*i+m)+"ms",d.textContent=Math.round(3*i+m)+"ms"}},this.attach=function(a,b){k.attach(a,b)},this.remove=function(a){k.remove(a)},this.notify=function(a,b){k.notify(a,b)}}b.__esModule=!0,b.default=c},function(a,b,c){"use strict";function d(a){function b(a){k.clear()}function c(a){p&&chrome.devtools.inspectedWindow.eval("$A.metricsService.getCurrentMarks()",function(a){k.setMarksData(a)})}function d(){chrome.devtools.inspectedWindow.eval("$A.metricsService.getBootstrapMetrics()",function(a){k.setBootstrapMetrics(a)})}function e(a){p&&k.addTransaction(a)}function g(a){chrome.devtools.inspectedWindow.eval("$A.metricsService.clearMarks();",function(){k.clear()})}function h(a){chrome.devtools.inspectedWindow.eval("$A.metricsService.getCurrentMarks()",function(a){k.setMarksData(a)})}function i(a){a.target.classList.contains("circle")&&(p=a.target.classList.contains("on"))}function j(){var a={};return a.attach=function(b,c){a[b]||(a[b]=[]),a[b].push(c)},a.remove=function(b){(a[b]||a[a].length>0)&&(a[b]=[])},a.notify=function(b,c){if(a[b]&&a[b].length>0)for(var d=0;d<a[b].length;d++)a[b][d](c)},a}var k,l,m,n,o=!1,p=!1;this.init=function(g){var h={id:chrome.i18n.getMessage("transactions_id"),starttime:chrome.i18n.getMessage("transactions_starttime"),starttime_info:chrome.i18n.getMessage("transactions_starttime_info"),duration:chrome.i18n.getMessage("transactions_duration"),duration_info:chrome.i18n.getMessage("transactions_duration_info"),context:chrome.i18n.getMessage("transactions_context"),actions:chrome.i18n.getMessage("transactions_actions"),timeline:chrome.i18n.getMessage("transactions_timeline"),not_available:chrome.i18n.getMessage("not_available"),ms:chrome.i18n.getMessage("ms"),toggle_recording:chrome.i18n.getMessage("actions_menu_record_tooltip"),clear:"[Clear]",refresh:"[Refresh]"};n='\n            <div class="">\n            <menu type="toolbar no-flex">\n                <li class="record-button"><aurainspector-onOffButton class="circle on" data-filter="all" title="'+h.toggle_recording+'"><span>'+h.toggle_recording+'</span></aurainspector-onOffButton></li>\n                <li><button class="refresh-transactions-bar-item status-bar-item" title="'+h.refresh+'"><div class="glyph"></div><div class="glyph shadow"></div></button></li>\n                <li><button id="clear-button" class="clear-status-bar-item status-bar-item" title="'+h.clear+'"><div class="glyph"></div><div class="glyph shadow"></div></button></li>\n                <li class="divider" style="margin-left: -3px;"></li>\n               <li><button id="marks-button" class="transaction-tabs-button selected" title="[Marks]">[Marks]</button></li>\n               <li><button id="custom-transactions-button" class="transaction-tabs-button" title="[Custom Transactions]">[Custom Transactions]</button></li>\n            </menu>\n\n            <div id="transaction-view"></div>\n        </div>\n        ',l=j(),k=new f.default,k.init(h),chrome.devtools.inspectedWindow.eval("$A.metricsService.getBootstrapMetrics()",function(a){k.setBootstrapMetrics(a)}),a.subscribe("AuraInspector:OnBootstrapEnd",d),a.subscribe("AuraInspector:OnActionStateChange",c.bind(this)),a.subscribe("AuraInspector:OnTransactionEnd",e.bind(this)),a.subscribe("AuraInspector:OnAuraInitialized",b.bind(this)),m=g},this.render=function(){a.hideSidebar(),o||(p=!0,o=!0,m.innerHTML=n,m.classList.add("trans-panel"),m.querySelector(".clear-status-bar-item").addEventListener("click",g.bind(this),!1),m.querySelector(".refresh-transactions-bar-item").addEventListener("click",h.bind(this),!1),m.querySelector(".record-button").addEventListener("click",i.bind(this),!1),m.querySelector("#marks-button").style.display="none",m.querySelector("#custom-transactions-button").style.display="none",k.render(m.querySelector("#transaction-view")),chrome.devtools.inspectedWindow.eval("$A.metricsService.getCurrentMarks()",function(a){k.setMarksData(a)}))}}b.__esModule=!0,b.default=d;var e=c(20),f=function(a){return a&&a.__esModule?a:{default:a}}(e)},function(a,b,c){"use strict";function d(){function a(){var a=q.getSortedItems(),b=q.getTimelineRange();m.setStartTimeOffset(b[1]!==1/0?b[1]-b[0]:0),m.setStartTime(b[1]),m.setEndTime(b[2]),m.updateTimeMarkers(),m.clear();for(var c,d=0;d<a.length;d++)if(a[d]instanceof h){m.addRow(a[d]),c=q.getActions(a[d].id);for(var e=0;e<c.length;e++)m.addRow(c[e])}else m.addRow(a[d])}function b(a){if(a){if(!a.serverData){var b=a.stamp&&a.stamp.context.def||"unknown action";return void chrome.devtools.inspectedWindow.eval('\n    \t\t\tconsole.log("Action: '+b+' did not have any performance data.");\n    \t\t')}var c,d=a.serverData,b=d.attachment.actionName.replace(/^\d\$/g,""),e=JSON.stringify([{name:b,startTime:new Date(d.startTime).toLocaleString(),totalTime:d.totalTime,ownTime:d.ownTime,childTime:d.childTime}]);d.children&&(c=JSON.stringify(d.children.map(function(a){return{work:a.attachment[Object.keys(a.attachment)[0]],startTime:new Date(a.startTime).toLocaleString(),totalTime:a.totalTime,childTime:a.childTime}}))),chrome.devtools.inspectedWindow.eval('\n    \t\tconsole.group("Action: '+b+'");\n    \t\tconsole.log("%cOverview", "font-size: 1.2em; font-weight: bold; color: #0070d2;");\n\t    \tconsole.table('+e+', ["totalTime", "ownTime", "childTime"]);\n    \t\tif('+c+') {\n\t    \t\tconsole.log("%cCallstack", "font-size: 1.2em; font-weight: bold; color: #0070d2;");\n\t\t    \tconsole.table('+c+', ["work", "totalTime", "childTime"]);\n\t\t    }\n\t    \tconsole.groupEnd();\n    \t')}}function c(a){if(a){if(!a.serverData){var b=a.name;return void chrome.devtools.inspectedWindow.eval('\n    \t\t\tconsole.log("Transport: '+b+' did not have any performance data.");\n    \t\t')}var c=a.serverData,b=a.name,d=JSON.stringify([{name:b,startTime:new Date(c.startTime).toLocaleString(),totalTime:c.totalTime,ownTime:c.ownTime,childTime:c.childTime}]),e=JSON.stringify(c.children.map(function(a){return a.name,{type:a.name,info:a.attachment[Object.keys(a.attachment)[0]],startTime:new Date(a.startTime).toLocaleString(),totalTime:a.totalTime,childTime:a.childTime}}));chrome.devtools.inspectedWindow.eval('\n    \t\tconsole.group("'+b+'");\n    \t\tconsole.log("%cOverview", "font-size: 1.2em; font-weight: bold; color: #0070d2;");\n\t    \tconsole.table('+d+', ["startTime", "totalTime", "ownTime", "childTime"]);\n    \t\tconsole.log("%cCallstack", "font-size: 1.2em; font-weight: bold; color: #0070d2;");\n\t    \tconsole.table('+e+', ["type",  "info", "totalTime", "childTime"]);\n\t    \tconsole.groupEnd();\n    \t')}}function d(a){function b(a){return k.get(a)}function c(a,b){k.set(a,b)}function d(a){return l.get(a)}function e(a,b){l.set(a,b)}function f(a){for(var d,e,f,g=0;g<a.length;g++)e=a[g],f=a[g].context.auraXHRId,d=b(f),d||(d=new h({id:f,name:"http-request {"+f+"}"},r.pageStartTime),c(f,d)),d.mergeData(e),m=Math.min(d.getStartTime(),m),n=Math.max(d.getEndTime(),n)}function j(a){for(var b,c,f,g=0;g<a.length;g++)b=a[g],c=b.context.id,f=d(c),f||(f=new i({id:c},r.pageStartTime),e(c,f)),f.mergeData(b),m=Math.min(f.getStartTime(),m),n=Math.max(f.getEndTime(),n)}var k=new Map,l=new Map,m=(new Map,1/0),n=0,o=[],p=1;this.getSortedItems=function(){var a=this.getTransports();return o.concat(a).sort(function(a,b){var c=a.getStartTime(),d=b.getStartTime();return c===d?0:c<d?-1:1})},this.addTransaction=function(b){var c=new g(b,a.pageStartTime);o.push(c),m=Math.min(c.getStartTime(),m),n=Math.max(c.getEndTime(),n)},this.addMarksData=function(a){a&&(Array.isArray(a.transport)&&f(a.transport),Array.isArray(a.actions)&&j(a.actions))},this.getChildren=function(a){return a.getChildren?a.getChildren():[]},this.getTransports=function(){return Array.from(k.values())},this.getTransportById=function(a){return b(parseInt(a))},this.getTransactionById=function(a){for(var b=0;b<o.length;b++)if(o[b].id===a)return o[b]},this.getActions=function(a){var c=b(a);if(!c)return console.error("You provided an invalid transportId. The transport did not exist."),[];var e=[],f=c.getActions();for(var g in f)e.push(d(g));return e},this.getActionById=function(a){return d(a)},this.getServerData=function(a){var b=d(a);if(b)return b.serverData},this.getTimelineRange=function(){return[a.pageStartTime,m,n]},this.getUid=function(a){return p+=1,a?a+p:p}}function e(a,b){if(!a||!b)throw new Error("Necessary arguments not specified. Expected (transport, actionName)");if(!a.actions)return null;var c,d=b.replace(/^\d\$/g,"");for(var e in a.actions)if((c=q.getActionById(e))&&c.columns[0]===d)return c;return null}function g(a,b){var c=a.duration||0,d=a.ts,e=(a.pageStartTime||b)+d,f=e+c;this.columns=[a.id,"",c+"ms",d+"ms"],this.id=q.getUid(a.id),this.timeline=[e,f],this.styles={timeline:"transaction",row:"transaction"},this.columns[0]=function(b){switch(b){case"ltng:performance":return"ltng:performance ["+a.eventSource+"]";case"ltng:interaction":return"ltng:interaction ["+a.eventSource+":"+a.locator.target+"]";case"ltng:pageView":return"ltng:pageView ["+a.page.context+"]"}return b}(this.columns[0]),this.mergeData=function(){},this.getEndTime=function(){return f},this.getStartTime=function(){return e},this.getData=function(){return a}}function h(a,b){this.columns=[a.name,a.id],this.id=a.id,this.timeline=[],this.styles={timeline:"transport",row:"transport"},this.mergeData=function(b){var c;if(a[b.phase]||(a[b.phase]=b),b.context&&b.context.actionDefs){a.actions||(a.actions={});for(var d=0;d<b.context.actionDefs.length;d++){var f=b.context.actionDefs[d].split("$"),g=f[1]||f[0];a.actions[g]=f[0]}}if(b.context&&b.context.perf&&b.context.perf.calltree&&(c=b.context.perf.calltree[0])){a.serverData=c;for(var d=0;d<c.children.length;d++)if("action"===c.children[d].name){var h=e(a,c.children[d].attachment.actionName);h&&(h.serverData=c.children[d])}}if(a.start&&(this.timeline[0]=this.getStartTime(),this.columns[3]=Math.round(a.start.ts)+"ms"),a.end&&a.start){if(a.end.ts-a.start.ts<0)return void(a.end=null);this.timeline[1]=this.getEndTime(),this.columns[2]=Math.round(a.end.ts-a.start.ts)+"ms"}},this.getChildren=function(){return q.getActions(this.id)},this.getActions=function(){return a.actions||[]},this.getStartTime=function(){var c=a.start&&a.start.ts;return c?b+c:1/0},this.getEndTime=function(){var c=a.end&&a.end.ts;return c?b+c:0},this.mergeData(a)}function i(a,b){this.columns=["unknown action",a.id],this.id=a.id,this.timeline=[],this.styles={timeline:"action",row:"action"},this.mergeData=function(c){c.hasOwnProperty("phase")&&(a[c.phase]||(a[c.phase]=c),a.stamp&&(this.columns[0]=a.stamp.context.def,this.timeline[0]=this.getStartTime()),a.start&&(this.timeline[1]=b+a.start.ts,this.columns[3]=Math.round(a.start.ts)+"ms",a.end&&(this.columns[2]=Math.round(a.end.ts-a.start.ts)+"ms")),a.end&&(this.timeline[2]=this.getEndTime(),a.start&&(this.columns[2]=Math.round(a.end.ts-a.start.ts)+"ms")))},this.getStartTime=function(){var c=a.stamp&&a.stamp.ts;return c?b+c:1/0},this.getEndTime=function(){var c=a.end&&a.end.ts;return c?b+c:0},this.mergeData(a)}function j(a){if("action"===a.type)b(q.getActionById(a.id));else if("transport"===a.type)c(q.getTransportById(a.id));else if("transaction"===a.type){var d=q.getTransactionById(a.id);if(d){var e=JSON.stringify(d.getData());chrome.devtools.inspectedWindow.eval("\n\t    \t\t\tconsole.log("+e+");\n\t    \t\t")}}}function k(){var a={};return a.attach=function(b,c){a[b]||(a[b]=[]),a[b].push(c)},a.remove=function(b){(a[b]||a[a].length>0)&&(a[b]=[])},a.notify=function(b,c){if(a[b]&&a[b].length>0)for(var d=0;d<a[b].length;d++)a[b][d](c)},a}var l,m,n,o,p,q,r={};this.init=function(a){n=a,o=new k,l="marks",m=new f.default,m.init(n),m.attach("onitemclick",j.bind(this)),q=new d(r)},this.clear=function(){q=new d(r),chrome.devtools.inspectedWindow.eval("window.performance.now()",function(a){m.setStartTimeOffset(a),m.setStartTime(r.pageStartTime||1/0),m.setEndTime(0),m.clear(),m.updateTimeMarkers()})},this.setBootstrapMetrics=function(a){Object.assign(r,a);var b=m.getStartTime();isNaN(b)?m.setStartTime(a.pageStartTime):m.setStartTime(Math.min(a.pageStartTime,b))},this.setMarksData=function(b){p=b,q.addMarksData(p),a()},this.addTransaction=function(b){q.addTransaction(b),a()},this.render=function(a){m.render(a)},this.attach=function(a,b){o.attach(a,b)},this.remove=function(a){o.remove(a)},this.notify=function(a,b){o.notify(a,b)}}b.__esModule=!0,b.default=d;var e=c(18),f=function(a){return a&&a.__esModule?a:{default:a}}(e)},function(a,b){"use strict";"function"==typeof Symbol&&Symbol.iterator}]);
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};b.m=a,b.c=c,b.p="",b(0)}({0:function(a,b,c){a.exports=c(7)},7:function(a,b){"use strict";"function"==typeof Symbol&&Symbol.iterator;!function(){function a(a){this.classList.toggle("is-collapsed")}function b(){var a=this.getAttribute("id"),b=this.getAttribute("name");if(a){var c=JSON.stringify({actionName:b,actionId:a}),d="\n               window[Symbol.for('AuraDevTools')].Inspector.publish(\"AuraInspector:RemoveActionFromWatchList\", "+c+");\n            ";chrome.devtools.inspectedWindow.eval(d,function(a,b){b&&console.log("ERROR from removeActionCard, CMD:",d,b)})}else console.error("removeActionCard, couldn't find actionId");this.parentNode.removeChild(this)}function c(){var a=this,b=a.querySelector("#select_dropOrModify").value;if(this.setAttribute("dropOrModify",b),"dropAction"===b)l(a.querySelector(".div_editActionResult")),l(a.querySelector(".div_errorResponse"));else if("modifyResponse"===b){k(a.querySelector(".div_editActionResult")),l(a.querySelector(".div_errorResponse"));var c=this.getAttribute("returnValue"),e=a.querySelector("#textarea_actionResultValue");e.value=c,k(a.querySelector(".div_editActionResult"))}else"errorResponseNextTime"===b?(l(a.querySelector(".div_editActionResult")),k(a.querySelector(".div_errorResponse")),a.querySelector("#errorResponseType").addEventListener("change",d.bind(this))):console.warn("unknown choice for dropOrModify, we need a handler for it !!!")}function d(){"exceptionEvent"===this.querySelector("#errorResponseType").value?(this.setAttribute("errorResponseType","exceptionEvent"),l(this.querySelector(".messageAndStackDiv")),k(this.querySelector(".exceptionEventDiv"))):(this.setAttribute("errorResponseType","messageAndStack"),l(this.querySelector(".exceptionEventDiv")),k(this.querySelector(".messageAndStackDiv")))}function e(){var a,b=this.getAttribute("id");if(b){var c=this.getAttribute("errorResponseType");if("exceptionEvent"==c){var d=this.querySelector("#eventAttribute").value.trim();try{d=JSON.parse(d)}catch(a){}a={exceptionEvent:!0,event:{descriptor:this.querySelector("#eventDescriptor").value.trim(),attributes:d}}}else"messageAndStack"==c&&(a={message:this.querySelector("#textarea_actionErrorMessage").value.trim(),stack:this.querySelector("#textarea_actionErrorStack").value.trim()});if(a){var e=JSON.stringify({actionName:this.getAttribute("name"),actionId:b.substring(12,b.length),nextResponse:void 0,nextError:a}),f="\n\t\t               window[Symbol.for('AuraDevTools')].Inspector.publish(\"AuraInspector:EnqueueNextErrorForAction\", "+e+");\n\t\t            ";chrome.devtools.inspectedWindow.eval(f,function(a,b){b&&console.log("ERROR from SaveActionResult_OnClick, CMD:",f,b)}),"messageAndStack"==c?(this.querySelector("#textarea_actionErrorMessage").setAttribute("readonly","readonly"),this.querySelector("#textarea_actionErrorStack").setAttribute("readonly","readonly")):(this.querySelector("#eventDescriptor").setAttribute("readonly","readonly"),this.querySelector("#eventAttribute").setAttribute("readonly","readonly")),l(this.querySelector("#button_saveError")),l(this.querySelector("#button_cancelError")),k(this.querySelector("#button_editError"))}else console.log("nextErrorMsg cannot be empty")}}function f(){var a=this,b=this.getAttribute("id"),c=this.getAttribute("errorResponseType");b&&("messageAndStack"==c?(this.querySelector("#textarea_actionErrorMessage").removeAttribute("readonly"),this.querySelector("#textarea_actionErrorStack").removeAttribute("readonly")):(this.querySelector("#eventDescriptor").removeAttribute("readonly"),this.querySelector("#eventAttribute").removeAttribute("readonly")),k(a.querySelector("#button_saveError")),k(a.querySelector("#button_cancelError")),l(a.querySelector("#button_editError")))}function g(){var a=this;l(a.querySelector(".div_errorResponse")),a.querySelector("#select_dropOrModify").value="dropAction"}function h(){var a=this;l(a.querySelector(".div_editActionResult")),a.querySelector("#select_dropOrModify").value="dropAction"}function i(){var a=this;a.querySelector("#textarea_actionResultValue").removeAttribute("readonly"),k(a.querySelector("#button_saveActionResult")),k(a.querySelector("#button_cancelChangeActionResult")),l(a.querySelector("#button_editActionResult"))}function j(){var a=this,b=this.getAttribute("id"),c=this.getAttribute("name"),d=this.getAttribute("parameters"),e=a.querySelector("#textarea_actionResultValue").value;if(b&&e){try{e=JSON.parse(e)}catch(a){e=e.trim(),console.warn("cannot parse response into JSON",a)}var f=JSON.stringify({actionName:c,actionParameter:JSON.parse(d),actionId:b.substring(12,b.length),nextResponse:e,nextError:void 0}),g="\n               window[Symbol.for('AuraDevTools')].Inspector.publish(\"AuraInspector:EnqueueNextResponseForAction\", "+f+");\n            ";chrome.devtools.inspectedWindow.eval(g,function(a,b){b&&console.log("ERROR from SaveActionResult_OnClick, CMD:",g,b)}),a.querySelector("#textarea_actionResultValue").setAttribute("readonly","readonly"),l(a.querySelector("#button_saveActionResult")),l(a.querySelector("#button_cancelChangeActionResult")),k(a.querySelector("#button_editActionResult"))}else console.log("SaveActionResult_OnClick, either actionId is bogus, or bad nextResponse",b,e)}function k(a){a&&a.classList.remove("slds-hide")}function l(a){a&&a.classList.add("slds-hide")}function m(a){var b=document.createDocumentFragment(),c=a.split("$"),d=document.createElement("span");d.className="action-name-controller",d.textContent=c[0];var e=document.createElement("span");e.className="action-name-method",e.textContent=c[1];var f=document.createElement("span");return f.className="action-name-delimiter",f.textContent="$",b.appendChild(d),b.appendChild(f),b.appendChild(e),b}var n=document.currentScript.ownerDocument,o=Object.create(HTMLElement.prototype);o.attachedCallback=function(){var a={id:this.getAttribute("actionId"),actionName:this.getAttribute("name"),parameters:this.getAttribute("parameters"),state:this.getAttribute("state"),isBackground:this.getAttribute("isBackground"),isStorable:this.getAttribute("isStorable"),isRefresh:"true"===this.getAttribute("isStorable")?this.getAttribute("isRefresh"):"-",isAbortable:this.getAttribute("isAbortable"),returnValue:this.getAttribute("returnValue"),returnError:"[]"===this.getAttribute("returnError")?void 0:this.getAttribute("returnError"),howDidWeModifyResponse:this.getAttribute("howDidWeModifyResponse"),fromStorage:"true"===this.getAttribute("isStorable")?this.getAttribute("isFromStorage"):"-",storageKey:"true"===this.getAttribute("isStorable")?'{"storageKey":'+JSON.stringify(this.getAttribute("storageKey"))+"}":"-",storableSize:"true"===this.getAttribute("isStorable")?(JSON.stringify(this.getAttribute("returnValue")).length/1024).toFixed(1)+" KB":"-",callingComponent:this.getAttribute("callingComponent")},b=this,c=b.querySelector("#action-name");c.innerHTML="",c.appendChild(m(a.actionName)),b.querySelector(".parameters").textContent=a.parameters,b.querySelector(".storageKey").textContent=a.storageKey,b.querySelector("#actionId").textContent=a.id,b.querySelector("#actionState").textContent=a.state,b.querySelector("#actionIsAbortable").textContent=a.isAbortable,b.querySelector("#actionIsBackground").textContent=a.isBackground,b.querySelector("#actionIsStorable").textContent=a.isStorable,b.querySelector("#actionStorableSize").textContent=a.storableSize,b.querySelector("#actionIsRefresh").textContent=a.isRefresh,b.querySelector("#actionFromStorage").textContent=a.fromStorage;var d=b.querySelector("#callingComponent");if(!d.hasChildNodes())if(a.callingComponent){var e=document.createElement("aurainspector-auracomponent");e.setAttribute("globalId",a.callingComponent),e.setAttribute("summarize","true"),d.appendChild(e)}else b.querySelector(".calling-component-container").classList.add("slds-hide");if(void 0!=a.returnError||null!=a.returnError?(this.classList.add("has-error"),b.querySelector("#actionError").textContent=a.returnError,b.querySelector("#action-response-container").classList.add("slds-hide"),b.querySelector("#action-error-container").classList.remove("slds-hide")):(this.classList.remove("has-error"),b.querySelector("#actionResult").textContent=a.returnValue,b.querySelector("#action-response-container").classList.remove("slds-hide"),b.querySelector("#action-error-container").classList.add("slds-hide")),this.hasAttribute("stats")){var f=JSON.parse(this.getAttribute("stats"));b.querySelector("#statsCreated").textContent=f.created}"false"!==a.isStorable&&!1!==a.isStorable||b.querySelector(".attributes").classList.add("storable-false"),"true"===this.getAttribute("toWatch")&&(b.querySelector(".remove-card").classList.remove("slds-hide"),b.querySelector(".action-card-wrapper").classList.add("watch"),"modifyResponse"===this.getAttribute("dropOrModify")?(k(b.querySelector(".div_editActionResult")),l(b.querySelector(".div_errorResponse"))):"errorResponseNextTime"===this.getAttribute("dropOrModify")?(l(b.querySelector(".div_editActionResult")),k(b.querySelector(".div_errorResponse"))):(l(b.querySelector(".div_errorResponse")),l(b.querySelector(".div_editActionResult"))))},o.createdCallback=function(){var d=n.querySelector("template"),k=document.importNode(d.content,!0),l=this;l.appendChild(k),l.querySelector(".action-toggle").addEventListener("click",a.bind(this)),l.querySelector("#select_dropOrModify").addEventListener("change",c.bind(this)),l.querySelector(".remove-card").addEventListener("click",b.bind(this));var m=l.querySelector("#select_dropOrModify");if(m.options[0].text=chrome.i18n.getMessage("actioncard_dropaction"),m.options[1].text=chrome.i18n.getMessage("actioncard_overrideresult"),m.options[2].text=chrome.i18n.getMessage("actioncard_errorresponse"),l.querySelector("#button_saveActionResult").addEventListener("click",j.bind(this)),l.querySelector("#button_cancelChangeActionResult").addEventListener("click",h.bind(this)),l.querySelector("#button_editActionResult").addEventListener("click",i.bind(this)),l.querySelector("#button_saveError").addEventListener("click",e.bind(this)),l.querySelector("#button_cancelError").addEventListener("click",g.bind(this)),l.querySelector("#button_editError").addEventListener("click",f.bind(this)),"false"===this.getAttribute("collapsible")){l.querySelector("div.action-card-wrapper").classList.remove("is-collapsible")}},o.attributeChangedCallback=function(a,b,c){var d=this;if("collapsible"===a){var e=d.querySelector("div.action-card-wrapper");"false"==c?e.classList.remove("is-collapsible"):e.classList.add("is-collapsible")}};document.registerElement("aurainspector-actionCard",{prototype:o})}()}});